import{S as a,i as e,s as t,e as l,t as s,k as c,c as i,a as n,g as o,d as r,n as d,b as u,f as v,F as p,W as f,G as h,_ as m,h as E,Z as y,Y as I,K as q,J as x,U as b,T as A,L as g,$ as N}from"../../chunks/vendor-1bb6e2c0.js";import{p as D}from"../../chunks/stores-a06af009.js";import{g as T}from"../../chunks/navigation-51f4a605.js";import{b as C,u as L}from"../../chunks/stores-dc0795db.js";import"../../chunks/singletons-12a22614.js";function P(a,e,t){const l=a.slice();return l[33]=e[t],l[34]=e,l[35]=t,l}function U(a){let e,t,I,x,b,A,g,N,D,T,C,L,P,U,V,w,F,_,k,M,H,S,$,j,G,z,J,K,W,Y,Z,Q,X,aa,ea,ta,la,sa,ca,ia,na,oa,ra,da,ua,va,pa,fa,ha,ma,Ea,ya,Ia,qa,xa,ba,Aa,ga,Na,Da,Ta,Ca,La,Pa,Ua,Ra,Va,wa,Fa,Oa,Ba,_a,ka,Ma,Ha,Sa,$a,ja,Ga,za,Ja,Ka,Wa,Ya,Za,Qa,Xa,ae,ee,te,le,se,ce,ie,ne,oe,re,de,ue,ve,pe,fe,he,me,Ee,ye,Ie,qe,xe,be,Ae,ge,Ne,De,Te,Ce,Le,Pe,Ue,Re,Ve,we,Fe,Oe,Be,_e,ke,Me,He,Se,$e,je,Ge,ze,Je,Ke,We,Ye=a[0].number+"",Ze=a[0].date.day+"",Qe=a[0].date.month+"",Xe=a[0].date.year+"",at=a[0].items.length>0&&R(a);return{c(){e=l("section"),t=l("h1"),I=s("Factura nº "),x=s(Ye),b=c(),A=l("p"),g=s("Con fecha "),N=s(Ze),D=s("/"),T=s(Qe),C=s("/"),L=s(Xe),P=c(),U=l("div"),V=l("button"),w=s("DESCARGAR FACTURA"),F=c(),_=l("button"),k=s("GENERAR ALBARÁN"),M=c(),H=l("button"),S=s("ELIMINAR FACTURA"),$=c(),j=l("form"),G=l("div"),z=l("h2"),J=s("Datos de la factura"),K=c(),W=l("p"),Y=s("La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),Z=c(),Q=l("div"),X=l("div"),aa=l("label"),ea=s("Número"),ta=c(),la=l("input"),sa=c(),ca=l("div"),ia=l("div"),na=l("label"),oa=s("Día"),ra=c(),da=l("input"),ua=c(),va=l("div"),pa=l("label"),fa=s("Mes"),ha=c(),ma=l("input"),Ea=c(),ya=l("div"),Ia=l("label"),qa=s("Año"),xa=c(),ba=l("input"),Aa=c(),ga=l("div"),Na=l("h2"),Da=s("Datos del cliente"),Ta=c(),Ca=l("p"),La=s("Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),Pa=c(),Ua=l("div"),Ra=l("label"),Va=s("NOMBRE FISCAL"),wa=c(),Fa=l("input"),Oa=c(),Ba=l("div"),_a=l("div"),ka=l("label"),Ma=s("CIF/NIF"),Ha=c(),Sa=l("input"),$a=c(),ja=l("div"),Ga=l("label"),za=s("Conacto"),Ja=c(),Ka=l("input"),Wa=c(),Ya=l("div"),Za=l("div"),Qa=l("label"),Xa=s("DIRECCION FISCAL"),ae=c(),ee=l("input"),te=c(),le=l("div"),se=l("label"),ce=s("Código postal"),ie=c(),ne=l("input"),oe=c(),re=l("div"),de=l("div"),ue=l("label"),ve=s("POBLACIÓN"),pe=c(),fe=l("input"),he=c(),me=l("div"),Ee=l("label"),ye=s("País"),Ie=c(),qe=l("input"),xe=c(),be=l("div"),Ae=l("h2"),ge=s("Conceptos"),Ne=c(),De=l("p"),Te=s("Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),Ce=c(),at&&at.c(),Le=c(),Pe=l("div"),Ue=l("input"),Re=c(),Ve=l("input"),we=c(),Fe=l("input"),Oe=c(),Be=l("input"),_e=c(),ke=l("div"),Me=s("AÑADIR PRODUCTO/SERVICIO"),He=c(),Se=l("div"),$e=l("button"),je=s("GUARDAR CAMBIOS"),Ge=c(),ze=l("a"),Je=s("CANCELAR"),this.h()},l(a){e=i(a,"SECTION",{class:!0});var l=n(e);t=i(l,"H1",{class:!0});var s=n(t);I=o(s,"Factura nº "),x=o(s,Ye),s.forEach(r),b=d(l),A=i(l,"P",{class:!0});var c=n(A);g=o(c,"Con fecha "),N=o(c,Ze),D=o(c,"/"),T=o(c,Qe),C=o(c,"/"),L=o(c,Xe),c.forEach(r),P=d(l),U=i(l,"DIV",{class:!0});var u=n(U);V=i(u,"BUTTON",{class:!0});var v=n(V);w=o(v,"DESCARGAR FACTURA"),v.forEach(r),F=d(u),_=i(u,"BUTTON",{class:!0});var p=n(_);k=o(p,"GENERAR ALBARÁN"),p.forEach(r),M=d(u),H=i(u,"BUTTON",{class:!0});var f=n(H);S=o(f,"ELIMINAR FACTURA"),f.forEach(r),u.forEach(r),l.forEach(r),$=d(a),j=i(a,"FORM",{class:!0});var h=n(j);G=i(h,"DIV",{class:!0});var m=n(G);z=i(m,"H2",{});var E=n(z);J=o(E,"Datos de la factura"),E.forEach(r),K=d(m),W=i(m,"P",{class:!0});var y=n(W);Y=o(y,"La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),y.forEach(r),Z=d(m),Q=i(m,"DIV",{class:!0});var q=n(Q);X=i(q,"DIV",{class:!0});var R=n(X);aa=i(R,"LABEL",{for:!0,class:!0});var O=n(aa);ea=o(O,"Número"),O.forEach(r),ta=d(R),la=i(R,"INPUT",{type:!0,id:!0,class:!0}),R.forEach(r),sa=d(q),ca=i(q,"DIV",{class:!0});var B=n(ca);ia=i(B,"DIV",{class:!0});var Ke=n(ia);na=i(Ke,"LABEL",{for:!0,class:!0});var We=n(na);oa=o(We,"Día"),We.forEach(r),ra=d(Ke),da=i(Ke,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),Ke.forEach(r),ua=d(B),va=i(B,"DIV",{class:!0});var et=n(va);pa=i(et,"LABEL",{for:!0,class:!0});var tt=n(pa);fa=o(tt,"Mes"),tt.forEach(r),ha=d(et),ma=i(et,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),et.forEach(r),Ea=d(B),ya=i(B,"DIV",{class:!0});var lt=n(ya);Ia=i(lt,"LABEL",{for:!0,class:!0});var st=n(Ia);qa=o(st,"Año"),st.forEach(r),xa=d(lt),ba=i(lt,"INPUT",{type:!0,id:!0,class:!0}),lt.forEach(r),B.forEach(r),q.forEach(r),m.forEach(r),Aa=d(h),ga=i(h,"DIV",{class:!0});var ct=n(ga);Na=i(ct,"H2",{});var it=n(Na);Da=o(it,"Datos del cliente"),it.forEach(r),Ta=d(ct),Ca=i(ct,"P",{class:!0});var nt=n(Ca);La=o(nt,"Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),nt.forEach(r),Pa=d(ct),Ua=i(ct,"DIV",{class:!0});var ot=n(Ua);Ra=i(ot,"LABEL",{for:!0,class:!0});var rt=n(Ra);Va=o(rt,"NOMBRE FISCAL"),rt.forEach(r),wa=d(ot),Fa=i(ot,"INPUT",{type:!0,id:!0,class:!0}),ot.forEach(r),Oa=d(ct),Ba=i(ct,"DIV",{class:!0});var dt=n(Ba);_a=i(dt,"DIV",{class:!0});var ut=n(_a);ka=i(ut,"LABEL",{for:!0,class:!0});var vt=n(ka);Ma=o(vt,"CIF/NIF"),vt.forEach(r),Ha=d(ut),Sa=i(ut,"INPUT",{type:!0,id:!0,class:!0}),ut.forEach(r),$a=d(dt),ja=i(dt,"DIV",{class:!0});var pt=n(ja);Ga=i(pt,"LABEL",{for:!0,class:!0});var ft=n(Ga);za=o(ft,"Conacto"),ft.forEach(r),Ja=d(pt),Ka=i(pt,"INPUT",{type:!0,id:!0,class:!0}),pt.forEach(r),dt.forEach(r),Wa=d(ct),Ya=i(ct,"DIV",{class:!0});var ht=n(Ya);Za=i(ht,"DIV",{class:!0});var mt=n(Za);Qa=i(mt,"LABEL",{for:!0,class:!0});var Et=n(Qa);Xa=o(Et,"DIRECCION FISCAL"),Et.forEach(r),ae=d(mt),ee=i(mt,"INPUT",{type:!0,id:!0,class:!0}),mt.forEach(r),te=d(ht),le=i(ht,"DIV",{class:!0});var yt=n(le);se=i(yt,"LABEL",{for:!0,class:!0});var It=n(se);ce=o(It,"Código postal"),It.forEach(r),ie=d(yt),ne=i(yt,"INPUT",{type:!0,id:!0,class:!0}),yt.forEach(r),ht.forEach(r),oe=d(ct),re=i(ct,"DIV",{class:!0});var qt=n(re);de=i(qt,"DIV",{class:!0});var xt=n(de);ue=i(xt,"LABEL",{for:!0,class:!0});var bt=n(ue);ve=o(bt,"POBLACIÓN"),bt.forEach(r),pe=d(xt),fe=i(xt,"INPUT",{type:!0,id:!0,class:!0}),xt.forEach(r),he=d(qt),me=i(qt,"DIV",{class:!0});var At=n(me);Ee=i(At,"LABEL",{for:!0,class:!0});var gt=n(Ee);ye=o(gt,"País"),gt.forEach(r),Ie=d(At),qe=i(At,"INPUT",{type:!0,id:!0,class:!0}),At.forEach(r),qt.forEach(r),ct.forEach(r),xe=d(h),be=i(h,"DIV",{class:!0});var Nt=n(be);Ae=i(Nt,"H2",{});var Dt=n(Ae);ge=o(Dt,"Conceptos"),Dt.forEach(r),Ne=d(Nt),De=i(Nt,"P",{class:!0});var Tt=n(De);Te=o(Tt,"Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),Tt.forEach(r),Ce=d(Nt),at&&at.l(Nt),Le=d(Nt),Pe=i(Nt,"DIV",{class:!0});var Ct=n(Pe);Ue=i(Ct,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),Re=d(Ct),Ve=i(Ct,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),we=d(Ct),Fe=i(Ct,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),Oe=d(Ct),Be=i(Ct,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),Ct.forEach(r),_e=d(Nt),ke=i(Nt,"DIV",{class:!0});var Lt=n(ke);Me=o(Lt,"AÑADIR PRODUCTO/SERVICIO"),Lt.forEach(r),Nt.forEach(r),He=d(h),Se=i(h,"DIV",{class:!0});var Pt=n(Se);$e=i(Pt,"BUTTON",{class:!0});var Ut=n($e);je=o(Ut,"GUARDAR CAMBIOS"),Ut.forEach(r),Ge=d(Pt),ze=i(Pt,"A",{href:!0,class:!0});var Rt=n(ze);Je=o(Rt,"CANCELAR"),Rt.forEach(r),Pt.forEach(r),h.forEach(r),this.h()},h(){u(t,"class","svelte-onqdit"),u(A,"class","svelte-onqdit"),u(V,"class","succ semi svelte-onqdit"),u(_,"class","link semi svelte-onqdit"),u(H,"class","err semi svelte-onqdit"),u(U,"class","io-wrapper row jcenter xfill svelte-onqdit"),u(e,"class","header col fcenter xfill svelte-onqdit"),u(W,"class","notice svelte-onqdit"),u(aa,"for","legal_name"),u(aa,"class","svelte-onqdit"),u(la,"type","number"),u(la,"id","legal_name"),u(la,"class","xfill svelte-onqdit"),la.required=!0,u(X,"class","input-wrapper col grow svelte-onqdit"),u(na,"for","day"),u(na,"class","svelte-onqdit"),u(da,"type","number"),u(da,"id","day"),u(da,"min","1"),u(da,"max","31"),u(da,"class","xfill svelte-onqdit"),da.required=!0,u(ia,"class","input-wrapper date col svelte-onqdit"),u(pa,"for","month"),u(pa,"class","svelte-onqdit"),u(ma,"type","number"),u(ma,"id","month"),u(ma,"min","1"),u(ma,"max","12"),u(ma,"class","xfill svelte-onqdit"),ma.required=!0,u(va,"class","input-wrapper date col svelte-onqdit"),u(Ia,"for","year"),u(Ia,"class","svelte-onqdit"),u(ba,"type","number"),u(ba,"id","year"),u(ba,"class","xfill svelte-onqdit"),ba.required=!0,u(ya,"class","input-wrapper date col svelte-onqdit"),u(ca,"class","date-row row xhalf svelte-onqdit"),u(Q,"class","row xfill"),u(G,"class","box round col xfill svelte-onqdit"),u(Ca,"class","notice svelte-onqdit"),u(Ra,"for","legal_name"),u(Ra,"class","svelte-onqdit"),u(Fa,"type","text"),u(Fa,"id","leagal_name"),u(Fa,"class","xfill svelte-onqdit"),Fa.required=!0,u(Ua,"class","input-wrapper col xfill svelte-onqdit"),u(ka,"for","legal_id"),u(ka,"class","svelte-onqdit"),u(Sa,"type","text"),u(Sa,"id","leagal_id"),u(Sa,"class","xfill svelte-onqdit"),Sa.required=!0,u(_a,"class","input-wrapper col xhalf svelte-onqdit"),u(Ga,"for","contact"),u(Ga,"class","svelte-onqdit"),u(Ka,"type","text"),u(Ka,"id","contact"),u(Ka,"class","xfill svelte-onqdit"),Ka.required=!0,u(ja,"class","input-wrapper col xhalf svelte-onqdit"),u(Ba,"class","row xfill"),u(Qa,"for","address"),u(Qa,"class","svelte-onqdit"),u(ee,"type","text"),u(ee,"id","address"),u(ee,"class","xfill svelte-onqdit"),ee.required=!0,u(Za,"class","input-wrapper col xhalf svelte-onqdit"),u(se,"for","cp"),u(se,"class","svelte-onqdit"),u(ne,"type","text"),u(ne,"id","cp"),u(ne,"class","xfill svelte-onqdit"),ne.required=!0,u(le,"class","col xhalf"),u(Ya,"class","row xfill"),u(ue,"for","city"),u(ue,"class","svelte-onqdit"),u(fe,"type","text"),u(fe,"id","city"),u(fe,"class","xfill svelte-onqdit"),fe.required=!0,u(de,"class","input-wrapper col xhalf svelte-onqdit"),u(Ee,"for","country"),u(Ee,"class","svelte-onqdit"),u(qe,"type","text"),u(qe,"id","country"),u(qe,"class","xfill svelte-onqdit"),qe.required=!0,u(me,"class","input-wrapper col xhalf svelte-onqdit"),u(re,"class","row xfill"),u(ga,"class","box round col xfill svelte-onqdit"),u(De,"class","notice svelte-onqdit"),u(Ue,"type","number"),u(Ue,"id","amount"),u(Ue,"min","1"),u(Ue,"class","out svelte-onqdit"),u(Ue,"placeholder","CANT"),u(Ve,"type","text"),u(Ve,"id","label"),u(Ve,"class","out grow svelte-onqdit"),u(Ve,"placeholder","CONCEPTO"),u(Fe,"type","number"),u(Fe,"id","dto"),u(Fe,"min","0"),u(Fe,"max","100"),u(Fe,"class","out svelte-onqdit"),u(Fe,"placeholder","DTO %"),u(Be,"type","number"),u(Be,"id","price"),u(Be,"step","0.01"),u(Be,"class","out svelte-onqdit"),u(Be,"placeholder","UNIDAD €"),u(Pe,"class","new-line row xfill"),u(ke,"class","line-btn pri xfill svelte-onqdit"),u(be,"class","box round col xfill svelte-onqdit"),u($e,"class","succ semi svelte-onqdit"),u(ze,"href","/facturas"),u(ze,"class","btn out semi svelte-onqdit"),u(Se,"class","row jcenter xfill"),u(j,"class","bill-data col acenter xfill svelte-onqdit")},m(l,s){v(l,e,s),p(e,t),p(t,I),p(t,x),p(e,b),p(e,A),p(A,g),p(A,N),p(A,D),p(A,T),p(A,C),p(A,L),p(e,P),p(e,U),p(U,V),p(V,w),p(U,F),p(U,_),p(_,k),p(U,M),p(U,H),p(H,S),v(l,$,s),v(l,j,s),p(j,G),p(G,z),p(z,J),p(G,K),p(G,W),p(W,Y),p(G,Z),p(G,Q),p(Q,X),p(X,aa),p(aa,ea),p(X,ta),p(X,la),f(la,a[0].number),p(Q,sa),p(Q,ca),p(ca,ia),p(ia,na),p(na,oa),p(ia,ra),p(ia,da),f(da,a[0].date.day),p(ca,ua),p(ca,va),p(va,pa),p(pa,fa),p(va,ha),p(va,ma),f(ma,a[0].date.month),p(ca,Ea),p(ca,ya),p(ya,Ia),p(Ia,qa),p(ya,xa),p(ya,ba),f(ba,a[0].date.year),p(j,Aa),p(j,ga),p(ga,Na),p(Na,Da),p(ga,Ta),p(ga,Ca),p(Ca,La),p(ga,Pa),p(ga,Ua),p(Ua,Ra),p(Ra,Va),p(Ua,wa),p(Ua,Fa),f(Fa,a[0].client.legal_name),p(ga,Oa),p(ga,Ba),p(Ba,_a),p(_a,ka),p(ka,Ma),p(_a,Ha),p(_a,Sa),f(Sa,a[0].client.legal_id),p(Ba,$a),p(Ba,ja),p(ja,Ga),p(Ga,za),p(ja,Ja),p(ja,Ka),f(Ka,a[0].client.contact),p(ga,Wa),p(ga,Ya),p(Ya,Za),p(Za,Qa),p(Qa,Xa),p(Za,ae),p(Za,ee),f(ee,a[0].client.address),p(Ya,te),p(Ya,le),p(le,se),p(se,ce),p(le,ie),p(le,ne),f(ne,a[0].client.cp),p(ga,oe),p(ga,re),p(re,de),p(de,ue),p(ue,ve),p(de,pe),p(de,fe),f(fe,a[0].client.city),p(re,he),p(re,me),p(me,Ee),p(Ee,ye),p(me,Ie),p(me,qe),f(qe,a[0].client.country),p(j,xe),p(j,be),p(be,Ae),p(Ae,ge),p(be,Ne),p(be,De),p(De,Te),p(be,Ce),at&&at.m(be,null),p(be,Le),p(be,Pe),p(Pe,Ue),f(Ue,a[5].amount),p(Pe,Re),p(Pe,Ve),f(Ve,a[5].label),p(Pe,we),p(Pe,Fe),f(Fe,a[5].dto),p(Pe,Oe),p(Pe,Be),f(Be,a[5].price),p(be,_e),p(be,ke),p(ke,Me),p(j,He),p(j,Se),p(Se,$e),p($e,je),p(Se,Ge),p(Se,ze),p(ze,Je),Ke||(We=[h(V,"click",O),h(_,"click",B),h(H,"click",a[7]),h(la,"input",a[11]),h(da,"input",a[12]),h(ma,"input",a[13]),h(ba,"input",a[14]),h(Fa,"input",a[15]),h(Sa,"input",a[16]),h(Ka,"input",a[17]),h(ee,"input",a[18]),h(ne,"input",a[19]),h(fe,"input",a[20]),h(qe,"input",a[21]),h(Ue,"input",a[27]),h(Ve,"input",a[28]),h(Fe,"input",a[29]),h(Be,"input",a[30]),h(ke,"click",a[8]),h(j,"submit",m(a[10]))],Ke=!0)},p(a,e){1&e[0]&&Ye!==(Ye=a[0].number+"")&&E(x,Ye),1&e[0]&&Ze!==(Ze=a[0].date.day+"")&&E(N,Ze),1&e[0]&&Qe!==(Qe=a[0].date.month+"")&&E(T,Qe),1&e[0]&&Xe!==(Xe=a[0].date.year+"")&&E(L,Xe),1&e[0]&&y(la.value)!==a[0].number&&f(la,a[0].number),1&e[0]&&y(da.value)!==a[0].date.day&&f(da,a[0].date.day),1&e[0]&&y(ma.value)!==a[0].date.month&&f(ma,a[0].date.month),1&e[0]&&y(ba.value)!==a[0].date.year&&f(ba,a[0].date.year),1&e[0]&&Fa.value!==a[0].client.legal_name&&f(Fa,a[0].client.legal_name),1&e[0]&&Sa.value!==a[0].client.legal_id&&f(Sa,a[0].client.legal_id),1&e[0]&&Ka.value!==a[0].client.contact&&f(Ka,a[0].client.contact),1&e[0]&&ee.value!==a[0].client.address&&f(ee,a[0].client.address),1&e[0]&&ne.value!==a[0].client.cp&&f(ne,a[0].client.cp),1&e[0]&&fe.value!==a[0].client.city&&f(fe,a[0].client.city),1&e[0]&&qe.value!==a[0].client.country&&f(qe,a[0].client.country),a[0].items.length>0?at?at.p(a,e):(at=R(a),at.c(),at.m(be,Le)):at&&(at.d(1),at=null),32&e[0]&&y(Ue.value)!==a[5].amount&&f(Ue,a[5].amount),32&e[0]&&Ve.value!==a[5].label&&f(Ve,a[5].label),32&e[0]&&y(Fe.value)!==a[5].dto&&f(Fe,a[5].dto),32&e[0]&&y(Be.value)!==a[5].price&&f(Be,a[5].price)},d(a){a&&r(e),a&&r($),a&&r(j),at&&at.d(),Ke=!1,q(We)}}}function R(a){let e,t,f,h,m,y,q,b,A,g,N,D,T,C,L,U,R,F,O,B,_,k,M,H,S,$,j,G,z,J,K,W,Y,Z=a[3]().toFixed(2)+"",Q=a[4].iva+"",X=a[2]().toFixed(2)+"",aa=a[6]().toFixed(2)+"",ea=a[0].items,ta=[];for(let l=0;l<ea.length;l+=1)ta[l]=V(P(a,ea,l));let la=a[4].ret&&w(a);return{c(){e=l("ul");for(let a=0;a<ta.length;a+=1)ta[a].c();t=c(),f=l("h-div"),h=c(),m=l("ul"),y=l("li"),q=l("p"),b=s("Base imponible"),A=c(),g=l("h3"),N=s(Z),D=s("€"),T=c(),C=l("li"),L=l("p"),U=s("IVA "),R=s(Q),F=s("%"),O=c(),B=l("h3"),_=s(X),k=s("€"),M=c(),la&&la.c(),H=c(),S=l("li"),$=l("p"),j=s("Total"),G=c(),z=l("h3"),J=s(aa),K=s("€"),W=c(),Y=l("h-div"),this.h()},l(a){e=i(a,"UL",{class:!0});var l=n(e);for(let e=0;e<ta.length;e+=1)ta[e].l(l);l.forEach(r),t=d(a),f=i(a,"H-DIV",{class:!0}),n(f).forEach(r),h=d(a),m=i(a,"UL",{class:!0});var s=n(m);y=i(s,"LI",{class:!0});var c=n(y);q=i(c,"P",{class:!0});var u=n(q);b=o(u,"Base imponible"),u.forEach(r),A=d(c),g=i(c,"H3",{});var v=n(g);N=o(v,Z),D=o(v,"€"),v.forEach(r),c.forEach(r),T=d(s),C=i(s,"LI",{class:!0});var p=n(C);L=i(p,"P",{class:!0});var E=n(L);U=o(E,"IVA "),R=o(E,Q),F=o(E,"%"),E.forEach(r),O=d(p),B=i(p,"H3",{});var I=n(B);_=o(I,X),k=o(I,"€"),I.forEach(r),p.forEach(r),M=d(s),la&&la.l(s),H=d(s),S=i(s,"LI",{class:!0});var x=n(S);$=i(x,"P",{class:!0});var P=n($);j=o(P,"Total"),P.forEach(r),G=d(x),z=i(x,"H3",{});var V=n(z);J=o(V,aa),K=o(V,"€"),V.forEach(r),x.forEach(r),s.forEach(r),W=d(a),Y=i(a,"H-DIV",{class:!0}),n(Y).forEach(r),this.h()},h(){u(e,"class","bill-items col acenter xfill"),I(f,"class","svelte-onqdit"),u(q,"class","label"),u(y,"class","col acenter svelte-onqdit"),u(L,"class","label"),u(C,"class","col acenter svelte-onqdit"),u($,"class","label"),u(S,"class","col acenter svelte-onqdit"),u(m,"class","total-wrapper row jaround xfill svelte-onqdit"),I(Y,"class","svelte-onqdit")},m(a,l){v(a,e,l);for(let t=0;t<ta.length;t+=1)ta[t].m(e,null);v(a,t,l),v(a,f,l),v(a,h,l),v(a,m,l),p(m,y),p(y,q),p(q,b),p(y,A),p(y,g),p(g,N),p(g,D),p(m,T),p(m,C),p(C,L),p(L,U),p(L,R),p(L,F),p(C,O),p(C,B),p(B,_),p(B,k),p(m,M),la&&la.m(m,null),p(m,H),p(m,S),p(S,$),p($,j),p(S,G),p(S,z),p(z,J),p(z,K),v(a,W,l),v(a,Y,l)},p(a,t){if(513&t[0]){let l;for(ea=a[0].items,l=0;l<ea.length;l+=1){const s=P(a,ea,l);ta[l]?ta[l].p(s,t):(ta[l]=V(s),ta[l].c(),ta[l].m(e,null))}for(;l<ta.length;l+=1)ta[l].d(1);ta.length=ea.length}8&t[0]&&Z!==(Z=a[3]().toFixed(2)+"")&&E(N,Z),16&t[0]&&Q!==(Q=a[4].iva+"")&&E(R,Q),4&t[0]&&X!==(X=a[2]().toFixed(2)+"")&&E(_,X),a[4].ret?la?la.p(a,t):(la=w(a),la.c(),la.m(m,H)):la&&(la.d(1),la=null),64&t[0]&&aa!==(aa=a[6]().toFixed(2)+"")&&E(J,aa)},d(a){a&&r(e),x(ta,a),a&&r(t),a&&r(f),a&&r(h),a&&r(m),la&&la.d(),a&&r(W),a&&r(Y)}}}function V(a){let e,t,s,o,m,E,I,x,b,A,g,N,D;function T(){a[22].call(t,a[34],a[35])}function C(){a[23].call(o,a[34],a[35])}function L(){a[24].call(E,a[34],a[35])}function P(){a[25].call(x,a[34],a[35])}function U(){return a[26](a[35])}return{c(){e=l("li"),t=l("input"),s=c(),o=l("input"),m=c(),E=l("input"),I=c(),x=l("input"),b=c(),A=l("input"),g=c(),this.h()},l(a){e=i(a,"LI",{class:!0});var l=n(e);t=i(l,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),s=d(l),o=i(l,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),m=d(l),E=i(l,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),I=d(l),x=i(l,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),b=d(l),A=i(l,"INPUT",{type:!0,class:!0}),g=d(l),l.forEach(r),this.h()},h(){u(t,"type","number"),u(t,"id","amount"),u(t,"min","1"),u(t,"class","out svelte-onqdit"),u(t,"placeholder","CANT"),u(o,"type","text"),u(o,"id","label"),u(o,"class","out grow svelte-onqdit"),u(o,"placeholder","CONCEPTO"),u(E,"type","number"),u(E,"id","dto"),u(E,"min","0"),u(E,"max","100"),u(E,"class","out svelte-onqdit"),u(E,"placeholder","DTO %"),u(x,"type","number"),u(x,"id","price"),u(x,"step","0.01"),u(x,"class","out svelte-onqdit"),u(x,"placeholder","UNIDAD €"),u(A,"type","text"),A.value="x",u(A,"class","out svelte-onqdit"),u(e,"class","line row xfill svelte-onqdit")},m(l,c){v(l,e,c),p(e,t),f(t,a[33].amount),p(e,s),p(e,o),f(o,a[33].label),p(e,m),p(e,E),f(E,a[33].dto),p(e,I),p(e,x),f(x,a[33].price),p(e,b),p(e,A),p(e,g),N||(D=[h(t,"input",T),h(o,"input",C),h(E,"input",L),h(x,"input",P),h(A,"click",U)],N=!0)},p(e,l){a=e,1&l[0]&&y(t.value)!==a[33].amount&&f(t,a[33].amount),1&l[0]&&o.value!==a[33].label&&f(o,a[33].label),1&l[0]&&y(E.value)!==a[33].dto&&f(E,a[33].dto),1&l[0]&&y(x.value)!==a[33].price&&f(x,a[33].price)},d(a){a&&r(e),N=!1,q(D)}}}function w(a){let e,t,f,h,m,y,I,q,x,b,A=a[4].ret+"",g=a[1]().toFixed(2)+"";return{c(){e=l("li"),t=l("p"),f=s("IRPF "),h=s(A),m=s("%"),y=c(),I=l("h3"),q=s("-"),x=s(g),b=s("€"),this.h()},l(a){e=i(a,"LI",{class:!0});var l=n(e);t=i(l,"P",{class:!0});var s=n(t);f=o(s,"IRPF "),h=o(s,A),m=o(s,"%"),s.forEach(r),y=d(l),I=i(l,"H3",{});var c=n(I);q=o(c,"-"),x=o(c,g),b=o(c,"€"),c.forEach(r),l.forEach(r),this.h()},h(){u(t,"class","label"),u(e,"class","col acenter svelte-onqdit")},m(a,l){v(a,e,l),p(e,t),p(t,f),p(t,h),p(t,m),p(e,y),p(e,I),p(I,q),p(I,x),p(I,b)},p(a,e){16&e[0]&&A!==(A=a[4].ret+"")&&E(h,A),2&e[0]&&g!==(g=a[1]().toFixed(2)+"")&&E(x,g)},d(a){a&&r(e)}}}function F(a){let e,t,s,o,f,h,m=a[0]&&U(a);return{c(){e=l("meta"),t=l("meta"),s=l("meta"),o=l("meta"),f=c(),h=l("div"),m&&m.c(),this.h()},l(a){const l=b('[data-svelte="svelte-4o2sw3"]',document.head);e=i(l,"META",{property:!0,content:!0}),t=i(l,"META",{property:!0,content:!0}),s=i(l,"META",{name:!0,content:!0}),o=i(l,"META",{property:!0,content:!0}),l.forEach(r),f=d(a),h=i(a,"DIV",{class:!0});var c=n(h);m&&m.l(c),c.forEach(r),this.h()},h(){document.title="Editar factura | Facturas gratis",u(e,"property","og:title"),u(e,"content","Editar factura | Facturas gratis"),u(t,"property","og:site_name"),u(t,"content","Facturas gratis"),u(s,"name","description"),u(s,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios. No se necesita instalación."),u(o,"property","og:description"),u(o,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios. No se necesita instalación."),u(h,"class","scroll")},m(a,l){p(document.head,e),p(document.head,t),p(document.head,s),p(document.head,o),v(a,f,l),v(a,h,l),m&&m.m(h,null)},p(a,e){a[0]?m?m.p(a,e):(m=U(a),m.c(),m.m(h,null)):m&&(m.d(1),m=null)},i:A,o:A,d(a){r(e),r(t),r(s),r(o),a&&r(f),a&&r(h),m&&m.d()}}}async function O(){console.log("Downloading...")}function B(){console.log("Generating...")}function _(a,e,t){let l,s,c,i,n,o,r;g(a,C,(a=>t(31,n=a))),g(a,L,(a=>t(4,o=a))),g(a,D,(a=>t(32,r=a)));let d=n.filter((a=>a._id===r.params.id))[0],u={};function v(a){d.items.splice(a,1),t(0,d)}return a.$$.update=()=>{1&a.$$.dirty[0]&&t(3,l=()=>d.items.reduce(((a,e)=>{const t=e.price*e.amount;if(e.dto>0){return a+(t-t*e.dto/100)}return a+t}),0)),24&a.$$.dirty[0]&&t(2,s=()=>l()*o.iva/100),24&a.$$.dirty[0]&&t(1,c=()=>{if(!o.ret)return 0;return l()*o.ret/100}),14&a.$$.dirty[0]&&t(6,i=()=>l()+s()-c())},[d,c,s,l,o,u,i,function(){confirm("La numeracion de las otras facturas no se modificara. Recuerda usar la numeracion de esta factura en otra.\n\n¿Borrar definitivamente?")&&(n.splice(n.indexOf(d),1),C.set(n),T("/facturas"))},function(){4===Object.keys(u).length&&(t(0,d.items=[...d.items,u],d),t(5,u={}))},v,function(){d.items.length>0?(t(0,d.totals={base:l(),iva:s(),ret:c(),total:i()},d),N(C,n=n.map((a=>a._id===d._id?d:a)),n),T("/facturas")):alert("⚠ No has añadido ningun concepto ⚠")},function(){d.number=y(this.value),t(0,d)},function(){d.date.day=y(this.value),t(0,d)},function(){d.date.month=y(this.value),t(0,d)},function(){d.date.year=y(this.value),t(0,d)},function(){d.client.legal_name=this.value,t(0,d)},function(){d.client.legal_id=this.value,t(0,d)},function(){d.client.contact=this.value,t(0,d)},function(){d.client.address=this.value,t(0,d)},function(){d.client.cp=this.value,t(0,d)},function(){d.client.city=this.value,t(0,d)},function(){d.client.country=this.value,t(0,d)},function(a,e){a[e].amount=y(this.value),t(0,d)},function(a,e){a[e].label=this.value,t(0,d)},function(a,e){a[e].dto=y(this.value),t(0,d)},function(a,e){a[e].price=y(this.value),t(0,d)},a=>v(a),function(){u.amount=y(this.value),t(5,u)},function(){u.label=this.value,t(5,u)},function(){u.dto=y(this.value),t(5,u)},function(){u.price=y(this.value),t(5,u)}]}class k extends a{constructor(a){super(),e(this,a,_,F,t,{},null,[-1,-1])}}export{k as default};
