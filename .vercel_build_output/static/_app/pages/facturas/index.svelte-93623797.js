import{S as e,i as a,s as t,e as s,k as r,t as l,U as c,c as o,d as n,n as i,a as h,g as f,b as u,F as d,f as v,T as m,L as p,V as E,h as g,J as T,H as b,W as A,X as I,G as _,K as y}from"../../chunks/vendor-1bb6e2c0.js";import{b as x,u as P}from"../../chunks/stores-dc0795db.js";import{t as R,m as F}from"../../chunks/utils-004f515d.js";function L(e,a,t){const s=e.slice();return s[12]=a[t],s}function w(e,a,t){const s=e.slice();return s[15]=a[t],s}function N(e,a,t){const s=e.slice();return s[18]=a[t],s[20]=t,s}function O(e){let a,t,c,p,E,g,T,b,A,I,_;return{c(){a=s("div"),t=s("h2"),c=l("Primeros pasos"),p=r(),E=s("p"),g=l("Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),T=r(),b=s("br"),A=r(),I=s("a"),_=l("RELLENAR DATOS"),this.h()},l(e){a=o(e,"DIV",{class:!0});var s=h(a);t=o(s,"H2",{});var r=h(t);c=f(r,"Primeros pasos"),r.forEach(n),p=i(s),E=o(s,"P",{});var l=h(E);g=f(l,"Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),l.forEach(n),T=i(s),b=o(s,"BR",{}),A=i(s),I=o(s,"A",{href:!0,class:!0});var u=h(I);_=f(u,"RELLENAR DATOS"),u.forEach(n),s.forEach(n),this.h()},h(){u(I,"href","/ajustes"),u(I,"class","btn pri semi svelte-f0scad"),u(a,"class","first col acenter xfill svelte-f0scad")},m(e,s){v(e,a,s),d(a,t),d(t,c),d(a,p),d(a,E),d(E,g),d(a,T),d(a,b),d(a,A),d(a,I),d(I,_)},p:m,d(e){e&&n(a)}}}function C(e){let a,t,l,c,f,m;let p=(e[5].length<=0?D:V)(e),E=e[3].length<=0&&S(),g=e[3],b=[];for(let s=0;s<g.length;s+=1)b[s]=H(L(e,g,s));return{c(){a=s("div"),p.c(),t=r(),l=s("ul"),E&&E.c(),c=r();for(let e=0;e<b.length;e+=1)b[e].c();f=r(),m=s("div"),this.h()},l(e){a=o(e,"DIV",{class:!0});var s=h(a);p.l(s),s.forEach(n),t=i(e),l=o(e,"UL",{class:!0});var r=h(l);E&&E.l(r),c=i(r);for(let a=0;a<b.length;a+=1)b[a].l(r);f=i(r),m=o(r,"DIV",{class:!0}),h(m).forEach(n),r.forEach(n),this.h()},h(){u(a,"class","list-filter col acenter xfill svelte-f0scad"),u(m,"class","fix-bottom row xfill svelte-f0scad"),u(l,"class","bill-list col acenter xfill svelte-f0scad")},m(e,s){v(e,a,s),p.m(a,null),v(e,t,s),v(e,l,s),E&&E.m(l,null),d(l,c);for(let a=0;a<b.length;a+=1)b[a].m(l,null);d(l,f),d(l,m)},p(e,a){if(p.p(e,a),e[3].length<=0?E||(E=S(),E.c(),E.m(l,c)):E&&(E.d(1),E=null),8&a){let t;for(g=e[3],t=0;t<g.length;t+=1){const s=L(e,g,t);b[t]?b[t].p(s,a):(b[t]=H(s),b[t].c(),b[t].m(l,f))}for(;t<b.length;t+=1)b[t].d(1);b.length=g.length}},d(e){e&&n(a),p.d(),e&&n(t),e&&n(l),E&&E.d(),T(b,e)}}}function V(e){let a,t,c,m,p,E,g,x,P,R,L,O,C,V,D,S,H,j,k=F,B=[];for(let s=0;s<k.length;s+=1)B[s]=U(N(e,k,s));let $=e[6](),q=[];for(let s=0;s<$.length;s+=1)q[s]=M(w(e,$,s));return{c(){a=s("a"),t=l("NUEVA FACTURA"),c=r(),m=s("div"),p=s("input"),E=r(),g=s("select"),x=s("option"),P=l("Todos los meses");for(let e=0;e<B.length;e+=1)B[e].c();R=r(),L=s("select"),O=s("option"),C=l("Todos los años");for(let e=0;e<q.length;e+=1)q[e].c();V=r(),D=s("div"),S=l("LIMPIAR FILTROS"),this.h()},l(e){a=o(e,"A",{class:!0,href:!0});var s=h(a);t=f(s,"NUEVA FACTURA"),s.forEach(n),c=i(e),m=o(e,"DIV",{class:!0});var r=h(m);p=o(r,"INPUT",{type:!0,class:!0,placeholder:!0}),E=i(r),g=o(r,"SELECT",{class:!0});var l=h(g);x=o(l,"OPTION",{});var u=h(x);P=f(u,"Todos los meses"),u.forEach(n);for(let a=0;a<B.length;a+=1)B[a].l(l);l.forEach(n),R=i(r),L=o(r,"SELECT",{class:!0});var d=h(L);O=o(d,"OPTION",{});var v=h(O);C=f(v,"Todos los años"),v.forEach(n);for(let a=0;a<q.length;a+=1)q[a].l(d);d.forEach(n),V=i(r),D=o(r,"DIV",{class:!0});var T=h(D);S=f(T,"LIMPIAR FILTROS"),T.forEach(n),r.forEach(n),this.h()},h(){u(a,"class","new-btn btn succ semi svelte-f0scad"),u(a,"href","/facturas/nueva"),u(p,"type","text"),u(p,"class","out grow"),u(p,"placeholder","Buscar por nombre o CIF/NIF"),x.__value="",x.value=x.__value,u(g,"class","out svelte-f0scad"),void 0===e[1]&&b((()=>e[9].call(g))),O.__value="",O.value=O.__value,u(L,"class","out svelte-f0scad"),void 0===e[2]&&b((()=>e[10].call(L))),u(D,"class","clear-btn row acenter svelte-f0scad"),u(m,"class","filter-wrapper row xfill svelte-f0scad")},m(s,r){v(s,a,r),d(a,t),v(s,c,r),v(s,m,r),d(m,p),A(p,e[0]),d(m,E),d(m,g),d(g,x),d(x,P);for(let e=0;e<B.length;e+=1)B[e].m(g,null);I(g,e[1]),d(m,R),d(m,L),d(L,O),d(O,C);for(let e=0;e<q.length;e+=1)q[e].m(L,null);I(L,e[2]),d(m,V),d(m,D),d(D,S),H||(j=[_(p,"input",e[8]),_(g,"change",e[9]),_(L,"change",e[10]),_(D,"click",e[7])],H=!0)},p(e,a){if(1&a&&p.value!==e[0]&&A(p,e[0]),0&a){let t;for(k=F,t=0;t<k.length;t+=1){const s=N(e,k,t);B[t]?B[t].p(s,a):(B[t]=U(s),B[t].c(),B[t].m(g,null))}for(;t<B.length;t+=1)B[t].d(1);B.length=k.length}if(2&a&&I(g,e[1]),64&a){let t;for($=e[6](),t=0;t<$.length;t+=1){const s=w(e,$,t);q[t]?q[t].p(s,a):(q[t]=M(s),q[t].c(),q[t].m(L,null))}for(;t<q.length;t+=1)q[t].d(1);q.length=$.length}68&a&&I(L,e[2])},d(e){e&&n(a),e&&n(c),e&&n(m),T(B,e),T(q,e),H=!1,y(j)}}}function D(e){let a,t;return{c(){a=s("a"),t=l("CREA TU PRIMERA FACTURA"),this.h()},l(e){a=o(e,"A",{class:!0,href:!0});var s=h(a);t=f(s,"CREA TU PRIMERA FACTURA"),s.forEach(n),this.h()},h(){u(a,"class","btn succ semi"),u(a,"href","/facturas/nueva")},m(e,s){v(e,a,s),d(a,t)},p:m,d(e){e&&n(a)}}}function U(e){let a,t,r,c=e[18]+"";return{c(){a=s("option"),t=l(c),this.h()},l(e){a=o(e,"OPTION",{});var s=h(a);t=f(s,c),s.forEach(n),this.h()},h(){a.__value=r=e[20],a.value=a.__value},m(e,s){v(e,a,s),d(a,t)},p:m,d(e){e&&n(a)}}}function M(e){let a,t,r,c=e[15]+"";return{c(){a=s("option"),t=l(c),this.h()},l(e){a=o(e,"OPTION",{});var s=h(a);t=f(s,c),s.forEach(n),this.h()},h(){a.__value=r=e[15],a.value=a.__value},m(e,s){v(e,a,s),d(a,t)},p:m,d(e){e&&n(a)}}}function S(e){let a,t;return{c(){a=s("p"),t=l("No hay coincidencias")},l(e){a=o(e,"P",{});var s=h(a);t=f(s,"No hay coincidencias"),s.forEach(n)},m(e,s){v(e,a,s),d(a,t)},d(e){e&&n(a)}}}function H(e){let a,t,c,m,p,E,T,b,A,I,_,y,x,P,R,F,L,w,N,O,C,V,D,U,M,S,H,j,k,B,$,q,z=e[12].client.legal_name+"",G=e[12].client.legal_id+"",J=e[12].totals.total.toFixed(2)+"",K=e[12].number+"",W=e[12].date.day+"",X=e[12].date.month+"",Q=e[12].date.year+"",Y=e[12].items.length+"";return{c(){a=s("li"),t=s("a"),c=s("div"),m=s("div"),p=s("h4"),E=l(z),T=r(),b=s("p"),A=l(G),I=r(),_=s("h3"),y=l(J),x=l("€"),P=r(),R=s("div"),F=s("p"),L=l("Nº de factura: "),w=s("b"),N=l(K),O=l(" | Fecha: "),C=s("b"),V=l(W),D=l("/"),U=l(X),M=l("/"),S=l(Q),H=r(),j=s("p"),k=s("b"),B=l(Y),$=l(" conceptos"),this.h()},l(e){a=o(e,"LI",{class:!0});var s=h(a);t=o(s,"A",{href:!0,class:!0});var r=h(t);c=o(r,"DIV",{class:!0});var l=h(c);m=o(l,"DIV",{class:!0});var u=h(m);p=o(u,"H4",{});var d=h(p);E=f(d,z),d.forEach(n),T=i(u),b=o(u,"P",{});var v=h(b);A=f(v,G),v.forEach(n),u.forEach(n),I=i(l),_=o(l,"H3",{});var g=h(_);y=f(g,J),x=f(g,"€"),g.forEach(n),l.forEach(n),P=i(r),R=o(r,"DIV",{class:!0});var q=h(R);F=o(q,"P",{});var Z=h(F);L=f(Z,"Nº de factura: "),w=o(Z,"B",{});var ee=h(w);N=f(ee,K),ee.forEach(n),O=f(Z," | Fecha: "),C=o(Z,"B",{});var ae=h(C);V=f(ae,W),D=f(ae,"/"),U=f(ae,X),M=f(ae,"/"),S=f(ae,Q),ae.forEach(n),Z.forEach(n),H=i(q),j=o(q,"P",{});var te=h(j);k=o(te,"B",{});var se=h(k);B=f(se,Y),se.forEach(n),$=f(te," conceptos"),te.forEach(n),q.forEach(n),r.forEach(n),s.forEach(n),this.h()},h(){u(m,"class","col grow"),u(c,"class","title row xfill svelte-f0scad"),u(R,"class","info row jbetween xfill svelte-f0scad"),u(t,"href",q="/facturas/"+e[12]._id),u(t,"class","col xfill svelte-f0scad"),u(a,"class","box round col xfill svelte-f0scad")},m(e,s){v(e,a,s),d(a,t),d(t,c),d(c,m),d(m,p),d(p,E),d(m,T),d(m,b),d(b,A),d(c,I),d(c,_),d(_,y),d(_,x),d(t,P),d(t,R),d(R,F),d(F,L),d(F,w),d(w,N),d(F,O),d(F,C),d(C,V),d(C,D),d(C,U),d(C,M),d(C,S),d(R,H),d(R,j),d(j,k),d(k,B),d(j,$)},p(e,a){8&a&&z!==(z=e[12].client.legal_name+"")&&g(E,z),8&a&&G!==(G=e[12].client.legal_id+"")&&g(A,G),8&a&&J!==(J=e[12].totals.total.toFixed(2)+"")&&g(y,J),8&a&&K!==(K=e[12].number+"")&&g(N,K),8&a&&W!==(W=e[12].date.day+"")&&g(V,W),8&a&&X!==(X=e[12].date.month+"")&&g(U,X),8&a&&Q!==(Q=e[12].date.year+"")&&g(S,Q),8&a&&Y!==(Y=e[12].items.length+"")&&g(B,Y),8&a&&q!==(q="/facturas/"+e[12]._id)&&u(t,"href",q)},d(e){e&&n(a)}}}function j(e){let a,t,p,E,g,T,b,A,I,_,y,x,P,F=R[0].title+"",L=R[0].desc+"";function w(e,a){return void 0!==e[4].legal_name?C:O}let N=w(e),V=N(e);return{c(){a=s("meta"),t=s("meta"),p=s("meta"),E=s("meta"),g=r(),T=s("div"),b=s("section"),A=s("h1"),I=l(F),_=r(),y=s("p"),x=l(L),P=r(),V.c(),this.h()},l(e){const s=c('[data-svelte="svelte-1wziwqb"]',document.head);a=o(s,"META",{property:!0,content:!0}),t=o(s,"META",{property:!0,content:!0}),p=o(s,"META",{name:!0,content:!0}),E=o(s,"META",{property:!0,content:!0}),s.forEach(n),g=i(e),T=o(e,"DIV",{class:!0});var r=h(T);b=o(r,"SECTION",{class:!0});var l=h(b);A=o(l,"H1",{class:!0});var u=h(A);I=f(u,F),u.forEach(n),_=i(l),y=o(l,"P",{class:!0});var d=h(y);x=f(d,L),d.forEach(n),l.forEach(n),P=i(r),V.l(r),r.forEach(n),this.h()},h(){document.title="Tus facturas | Facturas gratis",u(a,"property","og:title"),u(a,"content","Tus facturas | Facturas gratis"),u(t,"property","og:site_name"),u(t,"content","Facturas gratis"),u(p,"name","description"),u(p,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios."),u(E,"property","og:description"),u(E,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios."),u(A,"class","svelte-f0scad"),u(y,"class","svelte-f0scad"),u(b,"class","header col fcenter xfill svelte-f0scad"),u(T,"class","scroll")},m(e,s){d(document.head,a),d(document.head,t),d(document.head,p),d(document.head,E),v(e,g,s),v(e,T,s),d(T,b),d(b,A),d(A,I),d(b,_),d(b,y),d(y,x),d(T,P),V.m(T,null)},p(e,[a]){N===(N=w(e))&&V?V.p(e,a):(V.d(1),V=N(e),V&&(V.c(),V.m(T,null)))},i:m,o:m,d(e){n(a),n(t),n(p),n(E),e&&n(g),e&&n(T),V.d()}}}function k(e,a){return e.number<a.number?-1:e.number>a.number?1:0}function B(e,a,t){let s,r,l;p(e,x,(e=>t(11,r=e))),p(e,P,(e=>t(4,l=e)));let c=[...r],o="",n="",i="";r.sort(k);const h=()=>{let e=[];for(let a=0;a<c.length;a++)e.includes(c[a].date.year)||e.push(c[a].date.year);return e};return i=Math.max(h()),e.$$.update=()=>{7&e.$$.dirty&&t(3,s=c.filter((e=>{const a=o.toLowerCase(),t=e.client.legal_name.toLowerCase(),s=e.client.legal_id.toLowerCase();return!(-1===t.indexOf(a)&&-1===s.indexOf(a)||""!==n&&n+1!==e.date.month||""!==i&&i!==e.date.year)})))},[o,n,i,s,l,c,h,function(){t(0,o=""),t(1,n=""),t(2,i=Math.max(h()))},function(){o=this.value,t(0,o)},function(){n=E(this),t(1,n)},function(){i=E(this),t(2,i),t(6,h)}]}class $ extends e{constructor(e){super(),a(this,e,B,j,t,{})}}export{$ as default};
