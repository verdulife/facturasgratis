import{S as e,i as t,s as a,e as s,k as r,t as l,U as n,c,d as o,n as i,a as u,g as h,b as f,F as d,f as p,T as m,L as v,V as g,l as b,h as E,J as A,H as T,W as x,X as _,G as y,K as N}from"../../chunks/vendor-1bb6e2c0.js";import{b as I,u as R}from"../../chunks/stores-dc0795db.js";import{t as P,m as C}from"../../chunks/utils-004f515d.js";function O(e,t,a){const s=e.slice();return s[12]=t[a],s}function L(e,t,a){const s=e.slice();return s[15]=t[a],s}function F(e,t,a){const s=e.slice();return s[18]=t[a],s[20]=a,s}function U(e){let t,a,n,v,g,b,E,A,T,x,_;return{c(){t=s("div"),a=s("h2"),n=l("Primeros pasos"),v=r(),g=s("p"),b=l("Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),E=r(),A=s("br"),T=r(),x=s("a"),_=l("RELLENAR DATOS"),this.h()},l(e){t=c(e,"DIV",{class:!0});var s=u(t);a=c(s,"H2",{});var r=u(a);n=h(r,"Primeros pasos"),r.forEach(o),v=i(s),g=c(s,"P",{});var l=u(g);b=h(l,"Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),l.forEach(o),E=i(s),A=c(s,"BR",{}),T=i(s),x=c(s,"A",{href:!0,class:!0});var f=u(x);_=h(f,"RELLENAR DATOS"),f.forEach(o),s.forEach(o),this.h()},h(){f(x,"href","/ajustes"),f(x,"class","btn pri semi svelte-4exbb6"),f(t,"class","first col acenter xfill svelte-4exbb6")},m(e,s){p(e,t,s),d(t,a),d(a,n),d(t,v),d(t,g),d(g,b),d(t,E),d(t,A),d(t,T),d(t,x),d(x,_)},p:m,d(e){e&&o(t)}}}function w(e){let t,a,l;let n=(e[5].length<=0?S:D)(e),h=e[3],d=[];for(let s=0;s<h.length;s+=1)d[s]=k(O(e,h,s));return{c(){t=s("div"),n.c(),a=r(),l=s("ul");for(let e=0;e<d.length;e+=1)d[e].c();this.h()},l(e){t=c(e,"DIV",{class:!0});var s=u(t);n.l(s),s.forEach(o),a=i(e),l=c(e,"UL",{class:!0});var r=u(l);for(let t=0;t<d.length;t+=1)d[t].l(r);r.forEach(o),this.h()},h(){f(t,"class","list-filter col acenter xfill svelte-4exbb6"),f(l,"class","bill-list col acenter xfill svelte-4exbb6")},m(e,s){p(e,t,s),n.m(t,null),p(e,a,s),p(e,l,s);for(let t=0;t<d.length;t+=1)d[t].m(l,null)},p(e,t){if(n.p(e,t),14&t){let a;for(h=e[3],a=0;a<h.length;a+=1){const s=O(e,h,a);d[a]?d[a].p(s,t):(d[a]=k(s),d[a].c(),d[a].m(l,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=h.length}},d(e){e&&o(t),n.d(),e&&o(a),e&&o(l),A(d,e)}}}function D(e){let t,a,n,m,v,g,b,E,I,R,P,O,U,w,D,S=C,M=[];for(let s=0;s<S.length;s+=1)M[s]=V(F(e,S,s));let H=e[6](),k=[];for(let s=0;s<H.length;s+=1)k[s]=j(L(e,H,s));return{c(){t=s("a"),a=l("NUEVA FACTURA"),n=r(),m=s("div"),v=s("input"),g=r(),b=s("select"),E=s("option"),I=l("Todos los meses");for(let e=0;e<M.length;e+=1)M[e].c();R=r(),P=s("select"),O=s("option"),U=l("Todos los a침os");for(let e=0;e<k.length;e+=1)k[e].c();this.h()},l(e){t=c(e,"A",{class:!0,href:!0});var s=u(t);a=h(s,"NUEVA FACTURA"),s.forEach(o),n=i(e),m=c(e,"DIV",{class:!0});var r=u(m);v=c(r,"INPUT",{type:!0,class:!0,placeholder:!0}),g=i(r),b=c(r,"SELECT",{class:!0});var l=u(b);E=c(l,"OPTION",{});var f=u(E);I=h(f,"Todos los meses"),f.forEach(o);for(let t=0;t<M.length;t+=1)M[t].l(l);l.forEach(o),R=i(r),P=c(r,"SELECT",{class:!0});var d=u(P);O=c(d,"OPTION",{});var p=u(O);U=h(p,"Todos los a침os"),p.forEach(o);for(let t=0;t<k.length;t+=1)k[t].l(d);d.forEach(o),r.forEach(o),this.h()},h(){f(t,"class","new-btn btn succ semi svelte-4exbb6"),f(t,"href","/facturas/nueva"),f(v,"type","text"),f(v,"class","out grow"),f(v,"placeholder","Buscar por nombre o CIF/NIF"),E.__value="",E.value=E.__value,f(b,"class","out svelte-4exbb6"),void 0===e[1]&&T((()=>e[8].call(b))),O.__value="",O.value=O.__value,f(P,"class","out svelte-4exbb6"),void 0===e[2]&&T((()=>e[9].call(P))),f(m,"class","row xfill")},m(s,r){p(s,t,r),d(t,a),p(s,n,r),p(s,m,r),d(m,v),x(v,e[0]),d(m,g),d(m,b),d(b,E),d(E,I);for(let e=0;e<M.length;e+=1)M[e].m(b,null);_(b,e[1]),d(m,R),d(m,P),d(P,O),d(O,U);for(let e=0;e<k.length;e+=1)k[e].m(P,null);_(P,e[2]),w||(D=[y(v,"input",e[7]),y(b,"change",e[8]),y(P,"change",e[9])],w=!0)},p(e,t){if(1&t&&v.value!==e[0]&&x(v,e[0]),0&t){let a;for(S=C,a=0;a<S.length;a+=1){const s=F(e,S,a);M[a]?M[a].p(s,t):(M[a]=V(s),M[a].c(),M[a].m(b,null))}for(;a<M.length;a+=1)M[a].d(1);M.length=S.length}if(2&t&&_(b,e[1]),64&t){let a;for(H=e[6](),a=0;a<H.length;a+=1){const s=L(e,H,a);k[a]?k[a].p(s,t):(k[a]=j(s),k[a].c(),k[a].m(P,null))}for(;a<k.length;a+=1)k[a].d(1);k.length=H.length}68&t&&_(P,e[2])},d(e){e&&o(t),e&&o(n),e&&o(m),A(M,e),A(k,e),w=!1,N(D)}}}function S(e){let t,a;return{c(){t=s("a"),a=l("CREA TU PRIMERA FACTURA"),this.h()},l(e){t=c(e,"A",{class:!0,href:!0});var s=u(t);a=h(s,"CREA TU PRIMERA FACTURA"),s.forEach(o),this.h()},h(){f(t,"class","btn succ semi"),f(t,"href","/facturas/nueva")},m(e,s){p(e,t,s),d(t,a)},p:m,d(e){e&&o(t)}}}function V(e){let t,a,r,n=e[18]+"";return{c(){t=s("option"),a=l(n),this.h()},l(e){t=c(e,"OPTION",{});var s=u(t);a=h(s,n),s.forEach(o),this.h()},h(){t.__value=r=e[20],t.value=t.__value},m(e,s){p(e,t,s),d(t,a)},p:m,d(e){e&&o(t)}}}function j(e){let t,a,r,n=e[15]+"";return{c(){t=s("option"),a=l(n),this.h()},l(e){t=c(e,"OPTION",{});var s=u(t);a=h(s,n),s.forEach(o),this.h()},h(){t.__value=r=e[15],t.value=t.__value},m(e,s){p(e,t,s),d(t,a)},p:m,d(e){e&&o(t)}}}function M(e){let t,a=(""===e[2]||e[2]===e[12].date.year)&&H(e);return{c(){a&&a.c(),t=b()},l(e){a&&a.l(e),t=b()},m(e,s){a&&a.m(e,s),p(e,t,s)},p(e,s){""===e[2]||e[2]===e[12].date.year?a?a.p(e,s):(a=H(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&o(t)}}}function H(e){let t,a,n,m,v,g,b,A,T=e[12].client.legal_name+"",x=e[12].number+"";return{c(){t=s("a"),a=s("li"),n=l(T),m=r(),v=s("span"),g=l(x),b=r(),this.h()},l(e){t=c(e,"A",{href:!0,class:!0});var s=u(t);a=c(s,"LI",{class:!0});var r=u(a);n=h(r,T),m=i(r),v=c(r,"SPAN",{});var l=u(v);g=h(l,x),l.forEach(o),r.forEach(o),b=i(s),s.forEach(o),this.h()},h(){f(a,"class","box round row jbetween xfill svelte-4exbb6"),f(t,"href",A="/facturas/"+e[12]._id),f(t,"class","row xfill")},m(e,s){p(e,t,s),d(t,a),d(a,n),d(a,m),d(a,v),d(v,g),d(t,b)},p(e,a){8&a&&T!==(T=e[12].client.legal_name+"")&&E(n,T),8&a&&x!==(x=e[12].number+"")&&E(g,x),8&a&&A!==(A="/facturas/"+e[12]._id)&&f(t,"href",A)},d(e){e&&o(t)}}}function k(e){let t,a=(""===e[1]||e[1]+1===e[12].date.month)&&M(e);return{c(){a&&a.c(),t=b()},l(e){a&&a.l(e),t=b()},m(e,s){a&&a.m(e,s),p(e,t,s)},p(e,s){""===e[1]||e[1]+1===e[12].date.month?a?a.p(e,s):(a=M(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&o(t)}}}function $(e){let t,a,v,g,b,E,A,T,x,_,y,N,I,R=P[0].title+"",C=P[0].desc+"";function O(e,t){return void 0!==e[4].legal_name?w:U}let L=O(e),F=L(e);return{c(){t=s("meta"),a=s("meta"),v=s("meta"),g=s("meta"),b=r(),E=s("div"),A=s("section"),T=s("h1"),x=l(R),_=r(),y=s("p"),N=l(C),I=r(),F.c(),this.h()},l(e){const s=n('[data-svelte="svelte-9e3jqr"]',document.head);t=c(s,"META",{property:!0,content:!0}),a=c(s,"META",{property:!0,content:!0}),v=c(s,"META",{name:!0,content:!0}),g=c(s,"META",{property:!0,content:!0}),s.forEach(o),b=i(e),E=c(e,"DIV",{class:!0});var r=u(E);A=c(r,"SECTION",{class:!0});var l=u(A);T=c(l,"H1",{class:!0});var f=u(T);x=h(f,R),f.forEach(o),_=i(l),y=c(l,"P",{class:!0});var d=u(y);N=h(d,C),d.forEach(o),l.forEach(o),I=i(r),F.l(r),r.forEach(o),this.h()},h(){document.title="Tus facturas | Facturas gratis",f(t,"property","og:title"),f(t,"content","Tus facturas | Facturas gratis"),f(a,"property","og:site_name"),f(a,"content","Facturas gratis"),f(v,"name","description"),f(v,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios. No se necesita instalaci칩n."),f(g,"property","og:description"),f(g,"content","Herramientas online y completamente gratuitas para generar, enviar, rectificar y listar facturas, presupuestos, albaranes,\r\n  clientes, proveedores y productos/servicios. No se necesita instalaci칩n."),f(T,"class","svelte-4exbb6"),f(y,"class","svelte-4exbb6"),f(A,"class","header col fcenter xfill svelte-4exbb6"),f(E,"class","scroll")},m(e,s){d(document.head,t),d(document.head,a),d(document.head,v),d(document.head,g),p(e,b,s),p(e,E,s),d(E,A),d(A,T),d(T,x),d(A,_),d(A,y),d(y,N),d(E,I),F.m(E,null)},p(e,[t]){L===(L=O(e))&&F?F.p(e,t):(F.d(1),F=L(e),F&&(F.c(),F.m(E,null)))},i:m,o:m,d(e){o(t),o(a),o(v),o(g),e&&o(b),e&&o(E),F.d()}}}function q(e,t){return e.number<t.number?-1:e.number>t.number?1:0}function z(e,t,a){let s,r,l;v(e,I,(e=>a(10,r=e))),v(e,R,(e=>a(4,l=e)));let n=[...r],c="",o="",i="";r.sort(q);const u=(new Date).getFullYear(),h=()=>{let e=[];for(let t=r.reduce(((e,t)=>t.date.year<e?t.date.year:e),u);t<=u;t++)e.push(t);return e};return i=u,e.$$.update=()=>{1&e.$$.dirty&&a(3,s=n.filter((e=>{const t=c.toLowerCase(),a=e.client.legal_name.toLowerCase(),s=e.client.legal_id.toLowerCase();return-1!==a.indexOf(t)||-1!==s.indexOf(t)})))},[c,o,i,s,l,n,h,function(){c=this.value,a(0,c)},function(){o=g(this),a(1,o)},function(){i=g(this),a(2,i),a(6,h)}]}class B extends e{constructor(e){super(),t(this,e,z,$,a,{})}}export{B as default};
