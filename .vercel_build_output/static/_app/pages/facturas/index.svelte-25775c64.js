import{S as e,i as l,s as t,k as s,e as a,t as r,U as n,d as c,n as o,c as h,a as u,g as i,b as f,f as d,F as v,T as m,L as p,V as b,l as g,h as E,J as x,H as A,W as _,X as T,G as I,K as R}from"../../chunks/vendor-1bb6e2c0.js";import{b as N,u as P}from"../../chunks/stores-dc0795db.js";import{t as C,m as O}from"../../chunks/utils-004f515d.js";function L(e,l,t){const s=e.slice();return s[12]=l[t],s}function U(e,l,t){const s=e.slice();return s[15]=l[t],s}function w(e,l,t){const s=e.slice();return s[18]=l[t],s[20]=t,s}function F(e){let l,t,n,p,b,g,E,x,A,_,T;return{c(){l=a("div"),t=a("h2"),n=r("Primeros pasos"),p=s(),b=a("p"),g=r("Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),E=s(),x=a("br"),A=s(),_=a("a"),T=r("RELLENAR DATOS"),this.h()},l(e){l=h(e,"DIV",{class:!0});var s=u(l);t=h(s,"H2",{});var a=u(t);n=i(a,"Primeros pasos"),a.forEach(c),p=o(s),b=h(s,"P",{});var r=u(b);g=i(r,"Para poder empezar a generar facturas, primero tienes que rellenar tus datos"),r.forEach(c),E=o(s),x=h(s,"BR",{}),A=o(s),_=h(s,"A",{href:!0,class:!0});var f=u(_);T=i(f,"RELLENAR DATOS"),f.forEach(c),s.forEach(c),this.h()},h(){f(_,"href","/ajustes"),f(_,"class","btn pri semi svelte-4exbb6"),f(l,"class","first col acenter xfill svelte-4exbb6")},m(e,s){d(e,l,s),v(l,t),v(t,n),v(l,p),v(l,b),v(b,g),v(l,E),v(l,x),v(l,A),v(l,_),v(_,T)},p:m,d(e){e&&c(l)}}}function y(e){let l,t,r;let n=(e[5].length<=0?S:D)(e),i=e[3],v=[];for(let s=0;s<i.length;s+=1)v[s]=H(L(e,i,s));return{c(){l=a("div"),n.c(),t=s(),r=a("ul");for(let e=0;e<v.length;e+=1)v[e].c();this.h()},l(e){l=h(e,"DIV",{class:!0});var s=u(l);n.l(s),s.forEach(c),t=o(e),r=h(e,"UL",{class:!0});var a=u(r);for(let l=0;l<v.length;l+=1)v[l].l(a);a.forEach(c),this.h()},h(){f(l,"class","list-filter col acenter xfill svelte-4exbb6"),f(r,"class","bill-list col acenter xfill svelte-4exbb6")},m(e,s){d(e,l,s),n.m(l,null),d(e,t,s),d(e,r,s);for(let l=0;l<v.length;l+=1)v[l].m(r,null)},p(e,l){if(n.p(e,l),14&l){let t;for(i=e[3],t=0;t<i.length;t+=1){const s=L(e,i,t);v[t]?v[t].p(s,l):(v[t]=H(s),v[t].c(),v[t].m(r,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=i.length}},d(e){e&&c(l),n.d(),e&&c(t),e&&c(r),x(v,e)}}}function D(e){let l,t,n,m,p,b,g,E,N,P,C,L,F,y,D,S=O,k=[];for(let s=0;s<S.length;s+=1)k[s]=V(w(e,S,s));let $=e[6](),H=[];for(let s=0;s<$.length;s+=1)H[s]=j(U(e,$,s));return{c(){l=a("a"),t=r("NUEVA FACTURA"),n=s(),m=a("div"),p=a("input"),b=s(),g=a("select"),E=a("option"),N=r("Todos los meses");for(let e=0;e<k.length;e+=1)k[e].c();P=s(),C=a("select"),L=a("option"),F=r("Todos los años");for(let e=0;e<H.length;e+=1)H[e].c();this.h()},l(e){l=h(e,"A",{class:!0,href:!0});var s=u(l);t=i(s,"NUEVA FACTURA"),s.forEach(c),n=o(e),m=h(e,"DIV",{class:!0});var a=u(m);p=h(a,"INPUT",{type:!0,class:!0,placeholder:!0}),b=o(a),g=h(a,"SELECT",{class:!0});var r=u(g);E=h(r,"OPTION",{});var f=u(E);N=i(f,"Todos los meses"),f.forEach(c);for(let l=0;l<k.length;l+=1)k[l].l(r);r.forEach(c),P=o(a),C=h(a,"SELECT",{class:!0});var d=u(C);L=h(d,"OPTION",{});var v=u(L);F=i(v,"Todos los años"),v.forEach(c);for(let l=0;l<H.length;l+=1)H[l].l(d);d.forEach(c),a.forEach(c),this.h()},h(){f(l,"class","new-btn btn succ semi svelte-4exbb6"),f(l,"href","/facturas/nueva"),f(p,"type","text"),f(p,"class","out grow"),f(p,"placeholder","Buscar por nombre o CIF/NIF"),E.__value="",E.value=E.__value,f(g,"class","out svelte-4exbb6"),void 0===e[1]&&A((()=>e[8].call(g))),L.__value="",L.value=L.__value,f(C,"class","out svelte-4exbb6"),void 0===e[2]&&A((()=>e[9].call(C))),f(m,"class","row xfill")},m(s,a){d(s,l,a),v(l,t),d(s,n,a),d(s,m,a),v(m,p),_(p,e[0]),v(m,b),v(m,g),v(g,E),v(E,N);for(let e=0;e<k.length;e+=1)k[e].m(g,null);T(g,e[1]),v(m,P),v(m,C),v(C,L),v(L,F);for(let e=0;e<H.length;e+=1)H[e].m(C,null);T(C,e[2]),y||(D=[I(p,"input",e[7]),I(g,"change",e[8]),I(C,"change",e[9])],y=!0)},p(e,l){if(1&l&&p.value!==e[0]&&_(p,e[0]),0&l){let t;for(S=O,t=0;t<S.length;t+=1){const s=w(e,S,t);k[t]?k[t].p(s,l):(k[t]=V(s),k[t].c(),k[t].m(g,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=S.length}if(2&l&&T(g,e[1]),64&l){let t;for($=e[6](),t=0;t<$.length;t+=1){const s=U(e,$,t);H[t]?H[t].p(s,l):(H[t]=j(s),H[t].c(),H[t].m(C,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=$.length}68&l&&T(C,e[2])},d(e){e&&c(l),e&&c(n),e&&c(m),x(k,e),x(H,e),y=!1,R(D)}}}function S(e){let l,t;return{c(){l=a("a"),t=r("CREA TU PRIMERA FACTURA"),this.h()},l(e){l=h(e,"A",{class:!0,href:!0});var s=u(l);t=i(s,"CREA TU PRIMERA FACTURA"),s.forEach(c),this.h()},h(){f(l,"class","btn succ semi"),f(l,"href","/facturas/nueva")},m(e,s){d(e,l,s),v(l,t)},p:m,d(e){e&&c(l)}}}function V(e){let l,t,s,n=e[18]+"";return{c(){l=a("option"),t=r(n),this.h()},l(e){l=h(e,"OPTION",{});var s=u(l);t=i(s,n),s.forEach(c),this.h()},h(){l.__value=s=e[20],l.value=l.__value},m(e,s){d(e,l,s),v(l,t)},p:m,d(e){e&&c(l)}}}function j(e){let l,t,s,n=e[15]+"";return{c(){l=a("option"),t=r(n),this.h()},l(e){l=h(e,"OPTION",{});var s=u(l);t=i(s,n),s.forEach(c),this.h()},h(){l.__value=s=e[15],l.value=l.__value},m(e,s){d(e,l,s),v(l,t)},p:m,d(e){e&&c(l)}}}function k(e){let l,t=(""===e[2]||e[2]===e[12].date.year)&&$(e);return{c(){t&&t.c(),l=g()},l(e){t&&t.l(e),l=g()},m(e,s){t&&t.m(e,s),d(e,l,s)},p(e,s){""===e[2]||e[2]===e[12].date.year?t?t.p(e,s):(t=$(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(e){t&&t.d(e),e&&c(l)}}}function $(e){let l,t,n,m,p,b,g,x,A=e[12].client.legal_name+"",_=e[12].number+"";return{c(){l=a("a"),t=a("li"),n=r(A),m=s(),p=a("span"),b=r(_),g=s(),this.h()},l(e){l=h(e,"A",{href:!0,class:!0});var s=u(l);t=h(s,"LI",{class:!0});var a=u(t);n=i(a,A),m=o(a),p=h(a,"SPAN",{});var r=u(p);b=i(r,_),r.forEach(c),a.forEach(c),g=o(s),s.forEach(c),this.h()},h(){f(t,"class","box round row jbetween xfill svelte-4exbb6"),f(l,"href",x="/facturas/"+e[12]._id),f(l,"class","row xfill")},m(e,s){d(e,l,s),v(l,t),v(t,n),v(t,m),v(t,p),v(p,b),v(l,g)},p(e,t){8&t&&A!==(A=e[12].client.legal_name+"")&&E(n,A),8&t&&_!==(_=e[12].number+"")&&E(b,_),8&t&&x!==(x="/facturas/"+e[12]._id)&&f(l,"href",x)},d(e){e&&c(l)}}}function H(e){let l,t=(""===e[1]||e[1]+1===e[12].date.month)&&k(e);return{c(){t&&t.c(),l=g()},l(e){t&&t.l(e),l=g()},m(e,s){t&&t.m(e,s),d(e,l,s)},p(e,s){""===e[1]||e[1]+1===e[12].date.month?t?t.p(e,s):(t=k(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(e){t&&t.d(e),e&&c(l)}}}function q(e){let l,t,p,b,g,E,x,A,_,T=C[0].title+"",I=C[0].desc+"";function R(e,l){return void 0!==e[4].legal_name?y:F}let N=R(e),P=N(e);return{c(){l=s(),t=a("div"),p=a("section"),b=a("h1"),g=r(T),E=s(),x=a("p"),A=r(I),_=s(),P.c(),this.h()},l(e){n('[data-svelte="svelte-1xbu039"]',document.head).forEach(c),l=o(e),t=h(e,"DIV",{class:!0});var s=u(t);p=h(s,"SECTION",{class:!0});var a=u(p);b=h(a,"H1",{class:!0});var r=u(b);g=i(r,T),r.forEach(c),E=o(a),x=h(a,"P",{class:!0});var f=u(x);A=i(f,I),f.forEach(c),a.forEach(c),_=o(s),P.l(s),s.forEach(c),this.h()},h(){document.title="Facturas gratis | Facturas",f(b,"class","svelte-4exbb6"),f(x,"class","svelte-4exbb6"),f(p,"class","header col fcenter xfill svelte-4exbb6"),f(t,"class","scroll")},m(e,s){d(e,l,s),d(e,t,s),v(t,p),v(p,b),v(b,g),v(p,E),v(p,x),v(x,A),v(t,_),P.m(t,null)},p(e,[l]){N===(N=R(e))&&P?P.p(e,l):(P.d(1),P=N(e),P&&(P.c(),P.m(t,null)))},i:m,o:m,d(e){e&&c(l),e&&c(t),P.d()}}}function z(e,l){return e.number<l.number?-1:e.number>l.number?1:0}function B(e,l,t){let s,a,r;p(e,N,(e=>t(10,a=e))),p(e,P,(e=>t(4,r=e)));let n=[...a],c="",o="",h="";a.sort(z);const u=(new Date).getFullYear(),i=()=>{let e=[];for(let l=a.reduce(((e,l)=>l.date.year<e?l.date.year:e),u);l<=u;l++)e.push(l);return e};return h=u,e.$$.update=()=>{1&e.$$.dirty&&t(3,s=n.filter((e=>{const l=c.toLowerCase(),t=e.client.legal_name.toLowerCase(),s=e.client.legal_id.toLowerCase();return-1!==t.indexOf(l)||-1!==s.indexOf(l)})))},[c,o,h,s,r,n,i,function(){c=this.value,t(0,c)},function(){o=b(this),t(1,o)},function(){h=b(this),t(2,h),t(6,i)}]}class M extends e{constructor(e){super(),l(this,e,B,q,t,{})}}export{M as default};
