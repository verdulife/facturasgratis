import{S as a,i as e,s as l,e as s,k as t,t as c,c as i,a as r,d as n,n as o,g as u,b as f,Y as d,f as v,F as p,W as m,G as h,Z as j,K as E,h as I,J as y,_ as x,T as b,L as D,$ as g}from"../../chunks/vendor-09429b48.js";import{g as N}from"../../chunks/navigation-51f4a605.js";import{b as A,u as L}from"../../chunks/stores-347e1d5a.js";import"../../chunks/singletons-12a22614.js";function C(a,e,l){const s=a.slice();return s[32]=e[l],s[33]=e,s[34]=l,s}function P(a){let e,l,m,h,j,E,x,b,D,g,N,A,L,P,U,V,F,O,R,B,_,q,$,H,S,k,M,z,G,Y,J,K,W,Z=a[3]().toFixed(2)+"",Q=a[4].iva+"",X=a[2]().toFixed(2)+"",aa=a[6]().toFixed(2)+"",ea=a[0].items,la=[];for(let s=0;s<ea.length;s+=1)la[s]=T(C(a,ea,s));let sa=a[4].ret&&w(a);return{c(){e=s("ul");for(let a=0;a<la.length;a+=1)la[a].c();l=t(),m=s("h-div"),h=t(),j=s("ul"),E=s("li"),x=s("p"),b=c("Base imponible"),D=t(),g=s("h3"),N=c(Z),A=c("€"),L=t(),P=s("li"),U=s("p"),V=c("IVA "),F=c(Q),O=c("%"),R=t(),B=s("h3"),_=c(X),q=c("€"),$=t(),sa&&sa.c(),H=t(),S=s("li"),k=s("p"),M=c("Total"),z=t(),G=s("h3"),Y=c(aa),J=c("€"),K=t(),W=s("h-div"),this.h()},l(a){e=i(a,"UL",{class:!0});var s=r(e);for(let e=0;e<la.length;e+=1)la[e].l(s);s.forEach(n),l=o(a),m=i(a,"H-DIV",{class:!0}),r(m).forEach(n),h=o(a),j=i(a,"UL",{class:!0});var t=r(j);E=i(t,"LI",{class:!0});var c=r(E);x=i(c,"P",{class:!0});var f=r(x);b=u(f,"Base imponible"),f.forEach(n),D=o(c),g=i(c,"H3",{});var d=r(g);N=u(d,Z),A=u(d,"€"),d.forEach(n),c.forEach(n),L=o(t),P=i(t,"LI",{class:!0});var v=r(P);U=i(v,"P",{class:!0});var p=r(U);V=u(p,"IVA "),F=u(p,Q),O=u(p,"%"),p.forEach(n),R=o(v),B=i(v,"H3",{});var I=r(B);_=u(I,X),q=u(I,"€"),I.forEach(n),v.forEach(n),$=o(t),sa&&sa.l(t),H=o(t),S=i(t,"LI",{class:!0});var y=r(S);k=i(y,"P",{class:!0});var C=r(k);M=u(C,"Total"),C.forEach(n),z=o(y),G=i(y,"H3",{});var T=r(G);Y=u(T,aa),J=u(T,"€"),T.forEach(n),y.forEach(n),t.forEach(n),K=o(a),W=i(a,"H-DIV",{class:!0}),r(W).forEach(n),this.h()},h(){f(e,"class","bill-items col acenter xfill"),d(m,"class","svelte-1fjmj5u"),f(x,"class","label"),f(E,"class","col acenter svelte-1fjmj5u"),f(U,"class","label"),f(P,"class","col acenter svelte-1fjmj5u"),f(k,"class","label"),f(S,"class","col acenter svelte-1fjmj5u"),f(j,"class","total-wrapper row jaround xfill svelte-1fjmj5u"),d(W,"class","svelte-1fjmj5u")},m(a,s){v(a,e,s);for(let l=0;l<la.length;l+=1)la[l].m(e,null);v(a,l,s),v(a,m,s),v(a,h,s),v(a,j,s),p(j,E),p(E,x),p(x,b),p(E,D),p(E,g),p(g,N),p(g,A),p(j,L),p(j,P),p(P,U),p(U,V),p(U,F),p(U,O),p(P,R),p(P,B),p(B,_),p(B,q),p(j,$),sa&&sa.m(j,null),p(j,H),p(j,S),p(S,k),p(k,M),p(S,z),p(S,G),p(G,Y),p(G,J),v(a,K,s),v(a,W,s)},p(a,l){if(257&l[0]){let s;for(ea=a[0].items,s=0;s<ea.length;s+=1){const t=C(a,ea,s);la[s]?la[s].p(t,l):(la[s]=T(t),la[s].c(),la[s].m(e,null))}for(;s<la.length;s+=1)la[s].d(1);la.length=ea.length}8&l[0]&&Z!==(Z=a[3]().toFixed(2)+"")&&I(N,Z),16&l[0]&&Q!==(Q=a[4].iva+"")&&I(F,Q),4&l[0]&&X!==(X=a[2]().toFixed(2)+"")&&I(_,X),a[4].ret?sa?sa.p(a,l):(sa=w(a),sa.c(),sa.m(j,H)):sa&&(sa.d(1),sa=null),64&l[0]&&aa!==(aa=a[6]().toFixed(2)+"")&&I(Y,aa)},d(a){a&&n(e),y(la,a),a&&n(l),a&&n(m),a&&n(h),a&&n(j),sa&&sa.d(),a&&n(K),a&&n(W)}}}function T(a){let e,l,c,u,d,I,y,x,b,D,g,N,A;function L(){a[21].call(l,a[33],a[34])}function C(){a[22].call(u,a[33],a[34])}function P(){a[23].call(I,a[33],a[34])}function T(){a[24].call(x,a[33],a[34])}function w(){return a[25](a[34])}return{c(){e=s("li"),l=s("input"),c=t(),u=s("input"),d=t(),I=s("input"),y=t(),x=s("input"),b=t(),D=s("input"),g=t(),this.h()},l(a){e=i(a,"LI",{class:!0});var s=r(e);l=i(s,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),c=o(s),u=i(s,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),d=o(s),I=i(s,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),y=o(s),x=i(s,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),b=o(s),D=i(s,"INPUT",{type:!0,class:!0}),g=o(s),s.forEach(n),this.h()},h(){f(l,"type","number"),f(l,"id","amount"),f(l,"min","1"),f(l,"class","out svelte-1fjmj5u"),f(l,"placeholder","CANT"),f(u,"type","text"),f(u,"id","label"),f(u,"class","out grow svelte-1fjmj5u"),f(u,"placeholder","CONCEPTO"),f(I,"type","number"),f(I,"id","dto"),f(I,"min","0"),f(I,"max","100"),f(I,"class","out svelte-1fjmj5u"),f(I,"placeholder","DTO %"),f(x,"type","number"),f(x,"id","price"),f(x,"step","0.01"),f(x,"class","out svelte-1fjmj5u"),f(x,"placeholder","UNIDAD €"),f(D,"type","text"),D.value="x",f(D,"class","out svelte-1fjmj5u"),f(e,"class","line row xfill svelte-1fjmj5u")},m(s,t){v(s,e,t),p(e,l),m(l,a[32].amount),p(e,c),p(e,u),m(u,a[32].label),p(e,d),p(e,I),m(I,a[32].dto),p(e,y),p(e,x),m(x,a[32].price),p(e,b),p(e,D),p(e,g),N||(A=[h(l,"input",L),h(u,"input",C),h(I,"input",P),h(x,"input",T),h(D,"click",w)],N=!0)},p(e,s){a=e,1&s[0]&&j(l.value)!==a[32].amount&&m(l,a[32].amount),1&s[0]&&u.value!==a[32].label&&m(u,a[32].label),1&s[0]&&j(I.value)!==a[32].dto&&m(I,a[32].dto),1&s[0]&&j(x.value)!==a[32].price&&m(x,a[32].price)},d(a){a&&n(e),N=!1,E(A)}}}function w(a){let e,l,d,m,h,j,E,y,x,b,D=a[4].ret+"",g=a[1]().toFixed(2)+"";return{c(){e=s("li"),l=s("p"),d=c("IRPF "),m=c(D),h=c("%"),j=t(),E=s("h3"),y=c("-"),x=c(g),b=c("€"),this.h()},l(a){e=i(a,"LI",{class:!0});var s=r(e);l=i(s,"P",{class:!0});var t=r(l);d=u(t,"IRPF "),m=u(t,D),h=u(t,"%"),t.forEach(n),j=o(s),E=i(s,"H3",{});var c=r(E);y=u(c,"-"),x=u(c,g),b=u(c,"€"),c.forEach(n),s.forEach(n),this.h()},h(){f(l,"class","label"),f(e,"class","col acenter svelte-1fjmj5u")},m(a,s){v(a,e,s),p(e,l),p(l,d),p(l,m),p(l,h),p(e,j),p(e,E),p(E,y),p(E,x),p(E,b)},p(a,e){16&e[0]&&D!==(D=a[4].ret+"")&&I(m,D),2&e[0]&&g!==(g=a[1]().toFixed(2)+"")&&I(x,g)},d(a){a&&n(e)}}}function U(a){let e,l,d,I,y,D,g,N,A,L,C,T,w,U,V,F,O,R,B,_,q,$,H,S,k,M,z,G,Y,J,K,W,Z,Q,X,aa,ea,la,sa,ta,ca,ia,ra,na,oa,ua,fa,da,va,pa,ma,ha,ja,Ea,Ia,ya,xa,ba,Da,ga,Na,Aa,La,Ca,Pa,Ta,wa,Ua,Va,Fa,Oa,Ra,Ba,_a,qa,$a,Ha,Sa,ka,Ma,za,Ga,Ya,Ja,Ka,Wa,Za,Qa,Xa,ae,ee,le,se,te,ce,ie,re,ne,oe,ue,fe,de,ve,pe,me,he,je,Ee,Ie,ye,xe,be,De,ge,Ne,Ae,Le,Ce,Pe,Te=a[0].items.length>0&&P(a);return{c(){e=s("div"),l=s("section"),d=s("h1"),I=c("Nueva factura"),y=t(),D=s("form"),g=s("div"),N=s("h2"),A=c("Datos de la factura"),L=t(),C=s("p"),T=c("La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),w=t(),U=s("div"),V=s("div"),F=s("label"),O=c("Número"),R=t(),B=s("input"),_=t(),q=s("div"),$=s("div"),H=s("label"),S=c("Día"),k=t(),M=s("input"),z=t(),G=s("div"),Y=s("label"),J=c("Mes"),K=t(),W=s("input"),Z=t(),Q=s("div"),X=s("label"),aa=c("Año"),ea=t(),la=s("input"),sa=t(),ta=s("div"),ca=s("h2"),ia=c("Datos del cliente"),ra=t(),na=s("p"),oa=c("Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),ua=t(),fa=s("div"),da=s("label"),va=c("NOMBRE FISCAL"),pa=t(),ma=s("input"),ha=t(),ja=s("div"),Ea=s("div"),Ia=s("label"),ya=c("CIF/NIF"),xa=t(),ba=s("input"),Da=t(),ga=s("div"),Na=s("label"),Aa=c("Conacto"),La=t(),Ca=s("input"),Pa=t(),Ta=s("div"),wa=s("div"),Ua=s("label"),Va=c("DIRECCION FISCAL"),Fa=t(),Oa=s("input"),Ra=t(),Ba=s("div"),_a=s("label"),qa=c("Código postal"),$a=t(),Ha=s("input"),Sa=t(),ka=s("div"),Ma=s("div"),za=s("label"),Ga=c("POBLACIÓN"),Ya=t(),Ja=s("input"),Ka=t(),Wa=s("div"),Za=s("label"),Qa=c("País"),Xa=t(),ae=s("input"),ee=t(),le=s("div"),se=s("h2"),te=c("Conceptos"),ce=t(),ie=s("p"),re=c("Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),ne=t(),Te&&Te.c(),oe=t(),ue=s("div"),fe=s("input"),de=t(),ve=s("input"),pe=t(),me=s("input"),he=t(),je=s("input"),Ee=t(),Ie=s("div"),ye=c("AÑADIR PRODUCTO/SERVICIO"),xe=t(),be=s("div"),De=s("button"),ge=c("GENERAR FACTURA"),Ne=t(),Ae=s("a"),Le=c("CANCELAR"),this.h()},l(a){e=i(a,"DIV",{class:!0});var s=r(e);l=i(s,"SECTION",{class:!0});var t=r(l);d=i(t,"H1",{class:!0});var c=r(d);I=u(c,"Nueva factura"),c.forEach(n),t.forEach(n),y=o(s),D=i(s,"FORM",{class:!0});var f=r(D);g=i(f,"DIV",{class:!0});var v=r(g);N=i(v,"H2",{});var p=r(N);A=u(p,"Datos de la factura"),p.forEach(n),L=o(v),C=i(v,"P",{class:!0});var m=r(C);T=u(m,"La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),m.forEach(n),w=o(v),U=i(v,"DIV",{class:!0});var h=r(U);V=i(h,"DIV",{class:!0});var j=r(V);F=i(j,"LABEL",{for:!0,class:!0});var E=r(F);O=u(E,"Número"),E.forEach(n),R=o(j),B=i(j,"INPUT",{type:!0,id:!0,class:!0}),j.forEach(n),_=o(h),q=i(h,"DIV",{class:!0});var x=r(q);$=i(x,"DIV",{class:!0});var b=r($);H=i(b,"LABEL",{for:!0,class:!0});var P=r(H);S=u(P,"Día"),P.forEach(n),k=o(b),M=i(b,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),b.forEach(n),z=o(x),G=i(x,"DIV",{class:!0});var Ce=r(G);Y=i(Ce,"LABEL",{for:!0,class:!0});var Pe=r(Y);J=u(Pe,"Mes"),Pe.forEach(n),K=o(Ce),W=i(Ce,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),Ce.forEach(n),Z=o(x),Q=i(x,"DIV",{class:!0});var we=r(Q);X=i(we,"LABEL",{for:!0,class:!0});var Ue=r(X);aa=u(Ue,"Año"),Ue.forEach(n),ea=o(we),la=i(we,"INPUT",{type:!0,id:!0,class:!0}),we.forEach(n),x.forEach(n),h.forEach(n),v.forEach(n),sa=o(f),ta=i(f,"DIV",{class:!0});var Ve=r(ta);ca=i(Ve,"H2",{});var Fe=r(ca);ia=u(Fe,"Datos del cliente"),Fe.forEach(n),ra=o(Ve),na=i(Ve,"P",{class:!0});var Oe=r(na);oa=u(Oe,"Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),Oe.forEach(n),ua=o(Ve),fa=i(Ve,"DIV",{class:!0});var Re=r(fa);da=i(Re,"LABEL",{for:!0,class:!0});var Be=r(da);va=u(Be,"NOMBRE FISCAL"),Be.forEach(n),pa=o(Re),ma=i(Re,"INPUT",{type:!0,id:!0,class:!0}),Re.forEach(n),ha=o(Ve),ja=i(Ve,"DIV",{class:!0});var _e=r(ja);Ea=i(_e,"DIV",{class:!0});var qe=r(Ea);Ia=i(qe,"LABEL",{for:!0,class:!0});var $e=r(Ia);ya=u($e,"CIF/NIF"),$e.forEach(n),xa=o(qe),ba=i(qe,"INPUT",{type:!0,id:!0,class:!0}),qe.forEach(n),Da=o(_e),ga=i(_e,"DIV",{class:!0});var He=r(ga);Na=i(He,"LABEL",{for:!0,class:!0});var Se=r(Na);Aa=u(Se,"Conacto"),Se.forEach(n),La=o(He),Ca=i(He,"INPUT",{type:!0,id:!0,class:!0}),He.forEach(n),_e.forEach(n),Pa=o(Ve),Ta=i(Ve,"DIV",{class:!0});var ke=r(Ta);wa=i(ke,"DIV",{class:!0});var Me=r(wa);Ua=i(Me,"LABEL",{for:!0,class:!0});var ze=r(Ua);Va=u(ze,"DIRECCION FISCAL"),ze.forEach(n),Fa=o(Me),Oa=i(Me,"INPUT",{type:!0,id:!0,class:!0}),Me.forEach(n),Ra=o(ke),Ba=i(ke,"DIV",{class:!0});var Ge=r(Ba);_a=i(Ge,"LABEL",{for:!0,class:!0});var Ye=r(_a);qa=u(Ye,"Código postal"),Ye.forEach(n),$a=o(Ge),Ha=i(Ge,"INPUT",{type:!0,id:!0,class:!0}),Ge.forEach(n),ke.forEach(n),Sa=o(Ve),ka=i(Ve,"DIV",{class:!0});var Je=r(ka);Ma=i(Je,"DIV",{class:!0});var Ke=r(Ma);za=i(Ke,"LABEL",{for:!0,class:!0});var We=r(za);Ga=u(We,"POBLACIÓN"),We.forEach(n),Ya=o(Ke),Ja=i(Ke,"INPUT",{type:!0,id:!0,class:!0}),Ke.forEach(n),Ka=o(Je),Wa=i(Je,"DIV",{class:!0});var Ze=r(Wa);Za=i(Ze,"LABEL",{for:!0,class:!0});var Qe=r(Za);Qa=u(Qe,"País"),Qe.forEach(n),Xa=o(Ze),ae=i(Ze,"INPUT",{type:!0,id:!0,class:!0}),Ze.forEach(n),Je.forEach(n),Ve.forEach(n),ee=o(f),le=i(f,"DIV",{class:!0});var Xe=r(le);se=i(Xe,"H2",{});var al=r(se);te=u(al,"Conceptos"),al.forEach(n),ce=o(Xe),ie=i(Xe,"P",{class:!0});var el=r(ie);re=u(el,"Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),el.forEach(n),ne=o(Xe),Te&&Te.l(Xe),oe=o(Xe),ue=i(Xe,"DIV",{class:!0});var ll=r(ue);fe=i(ll,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),de=o(ll),ve=i(ll,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),pe=o(ll),me=i(ll,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),he=o(ll),je=i(ll,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),ll.forEach(n),Ee=o(Xe),Ie=i(Xe,"DIV",{class:!0});var sl=r(Ie);ye=u(sl,"AÑADIR PRODUCTO/SERVICIO"),sl.forEach(n),Xe.forEach(n),xe=o(f),be=i(f,"DIV",{class:!0});var tl=r(be);De=i(tl,"BUTTON",{class:!0});var cl=r(De);ge=u(cl,"GENERAR FACTURA"),cl.forEach(n),Ne=o(tl),Ae=i(tl,"A",{href:!0,class:!0});var il=r(Ae);Le=u(il,"CANCELAR"),il.forEach(n),tl.forEach(n),f.forEach(n),s.forEach(n),this.h()},h(){f(d,"class","svelte-1fjmj5u"),f(l,"class","header col fcenter xfill svelte-1fjmj5u"),f(C,"class","notice svelte-1fjmj5u"),f(F,"for","legal_name"),f(F,"class","svelte-1fjmj5u"),f(B,"type","number"),f(B,"id","legal_name"),f(B,"class","xfill svelte-1fjmj5u"),B.required=!0,f(V,"class","input-wrapper col grow svelte-1fjmj5u"),f(H,"for","day"),f(H,"class","svelte-1fjmj5u"),f(M,"type","number"),f(M,"id","day"),f(M,"min","1"),f(M,"max","31"),f(M,"class","xfill svelte-1fjmj5u"),M.required=!0,f($,"class","input-wrapper date col svelte-1fjmj5u"),f(Y,"for","month"),f(Y,"class","svelte-1fjmj5u"),f(W,"type","number"),f(W,"id","month"),f(W,"min","1"),f(W,"max","12"),f(W,"class","xfill svelte-1fjmj5u"),W.required=!0,f(G,"class","input-wrapper date col svelte-1fjmj5u"),f(X,"for","year"),f(X,"class","svelte-1fjmj5u"),f(la,"type","number"),f(la,"id","year"),f(la,"class","xfill svelte-1fjmj5u"),la.required=!0,f(Q,"class","input-wrapper date col svelte-1fjmj5u"),f(q,"class","date-row row xhalf svelte-1fjmj5u"),f(U,"class","row xfill"),f(g,"class","box round col xfill svelte-1fjmj5u"),f(na,"class","notice svelte-1fjmj5u"),f(da,"for","legal_name"),f(da,"class","svelte-1fjmj5u"),f(ma,"type","text"),f(ma,"id","leagal_name"),f(ma,"class","xfill svelte-1fjmj5u"),ma.required=!0,f(fa,"class","input-wrapper col xfill svelte-1fjmj5u"),f(Ia,"for","legal_id"),f(Ia,"class","svelte-1fjmj5u"),f(ba,"type","text"),f(ba,"id","leagal_id"),f(ba,"class","xfill svelte-1fjmj5u"),ba.required=!0,f(Ea,"class","input-wrapper col xhalf svelte-1fjmj5u"),f(Na,"for","contact"),f(Na,"class","svelte-1fjmj5u"),f(Ca,"type","text"),f(Ca,"id","contact"),f(Ca,"class","xfill svelte-1fjmj5u"),Ca.required=!0,f(ga,"class","input-wrapper col xhalf svelte-1fjmj5u"),f(ja,"class","row xfill"),f(Ua,"for","address"),f(Ua,"class","svelte-1fjmj5u"),f(Oa,"type","text"),f(Oa,"id","address"),f(Oa,"class","xfill svelte-1fjmj5u"),Oa.required=!0,f(wa,"class","input-wrapper col xhalf svelte-1fjmj5u"),f(_a,"for","cp"),f(_a,"class","svelte-1fjmj5u"),f(Ha,"type","text"),f(Ha,"id","cp"),f(Ha,"class","xfill svelte-1fjmj5u"),Ha.required=!0,f(Ba,"class","col xhalf"),f(Ta,"class","row xfill"),f(za,"for","city"),f(za,"class","svelte-1fjmj5u"),f(Ja,"type","text"),f(Ja,"id","city"),f(Ja,"class","xfill svelte-1fjmj5u"),Ja.required=!0,f(Ma,"class","input-wrapper col xhalf svelte-1fjmj5u"),f(Za,"for","country"),f(Za,"class","svelte-1fjmj5u"),f(ae,"type","text"),f(ae,"id","country"),f(ae,"class","xfill svelte-1fjmj5u"),ae.required=!0,f(Wa,"class","input-wrapper col xhalf svelte-1fjmj5u"),f(ka,"class","row xfill"),f(ta,"class","box round col xfill svelte-1fjmj5u"),f(ie,"class","notice svelte-1fjmj5u"),f(fe,"type","number"),f(fe,"id","amount"),f(fe,"min","1"),f(fe,"class","out svelte-1fjmj5u"),f(fe,"placeholder","CANT"),f(ve,"type","text"),f(ve,"id","label"),f(ve,"class","out grow svelte-1fjmj5u"),f(ve,"placeholder","CONCEPTO"),f(me,"type","number"),f(me,"id","dto"),f(me,"min","0"),f(me,"max","100"),f(me,"class","out svelte-1fjmj5u"),f(me,"placeholder","DTO %"),f(je,"type","number"),f(je,"id","price"),f(je,"step","0.01"),f(je,"class","out svelte-1fjmj5u"),f(je,"placeholder","UNIDAD €"),f(ue,"class","new-line row xfill"),f(Ie,"class","line-btn pri xfill svelte-1fjmj5u"),f(le,"class","box round col xfill svelte-1fjmj5u"),f(De,"class","succ semi svelte-1fjmj5u"),f(Ae,"href","/facturas"),f(Ae,"class","btn out semi svelte-1fjmj5u"),f(be,"class","row jcenter xfill"),f(D,"class","bill-data col acenter xfill svelte-1fjmj5u"),f(e,"class","scroll")},m(s,t){v(s,e,t),p(e,l),p(l,d),p(d,I),p(e,y),p(e,D),p(D,g),p(g,N),p(N,A),p(g,L),p(g,C),p(C,T),p(g,w),p(g,U),p(U,V),p(V,F),p(F,O),p(V,R),p(V,B),m(B,a[0].number),p(U,_),p(U,q),p(q,$),p($,H),p(H,S),p($,k),p($,M),m(M,a[0].date.day),p(q,z),p(q,G),p(G,Y),p(Y,J),p(G,K),p(G,W),m(W,a[0].date.month),p(q,Z),p(q,Q),p(Q,X),p(X,aa),p(Q,ea),p(Q,la),m(la,a[0].date.year),p(D,sa),p(D,ta),p(ta,ca),p(ca,ia),p(ta,ra),p(ta,na),p(na,oa),p(ta,ua),p(ta,fa),p(fa,da),p(da,va),p(fa,pa),p(fa,ma),m(ma,a[0].client.legal_name),p(ta,ha),p(ta,ja),p(ja,Ea),p(Ea,Ia),p(Ia,ya),p(Ea,xa),p(Ea,ba),m(ba,a[0].client.legal_id),p(ja,Da),p(ja,ga),p(ga,Na),p(Na,Aa),p(ga,La),p(ga,Ca),m(Ca,a[0].client.contact),p(ta,Pa),p(ta,Ta),p(Ta,wa),p(wa,Ua),p(Ua,Va),p(wa,Fa),p(wa,Oa),m(Oa,a[0].client.address),p(Ta,Ra),p(Ta,Ba),p(Ba,_a),p(_a,qa),p(Ba,$a),p(Ba,Ha),m(Ha,a[0].client.cp),p(ta,Sa),p(ta,ka),p(ka,Ma),p(Ma,za),p(za,Ga),p(Ma,Ya),p(Ma,Ja),m(Ja,a[0].client.city),p(ka,Ka),p(ka,Wa),p(Wa,Za),p(Za,Qa),p(Wa,Xa),p(Wa,ae),m(ae,a[0].client.country),p(D,ee),p(D,le),p(le,se),p(se,te),p(le,ce),p(le,ie),p(ie,re),p(le,ne),Te&&Te.m(le,null),p(le,oe),p(le,ue),p(ue,fe),m(fe,a[5].amount),p(ue,de),p(ue,ve),m(ve,a[5].label),p(ue,pe),p(ue,me),m(me,a[5].dto),p(ue,he),p(ue,je),m(je,a[5].price),p(le,Ee),p(le,Ie),p(Ie,ye),p(D,xe),p(D,be),p(be,De),p(De,ge),p(be,Ne),p(be,Ae),p(Ae,Le),Ce||(Pe=[h(B,"input",a[10]),h(M,"input",a[11]),h(W,"input",a[12]),h(la,"input",a[13]),h(ma,"input",a[14]),h(ba,"input",a[15]),h(Ca,"input",a[16]),h(Oa,"input",a[17]),h(Ha,"input",a[18]),h(Ja,"input",a[19]),h(ae,"input",a[20]),h(fe,"input",a[26]),h(ve,"input",a[27]),h(me,"input",a[28]),h(je,"input",a[29]),h(Ie,"click",a[7]),h(D,"submit",x(a[9]))],Ce=!0)},p(a,e){1&e[0]&&j(B.value)!==a[0].number&&m(B,a[0].number),1&e[0]&&j(M.value)!==a[0].date.day&&m(M,a[0].date.day),1&e[0]&&j(W.value)!==a[0].date.month&&m(W,a[0].date.month),1&e[0]&&j(la.value)!==a[0].date.year&&m(la,a[0].date.year),1&e[0]&&ma.value!==a[0].client.legal_name&&m(ma,a[0].client.legal_name),1&e[0]&&ba.value!==a[0].client.legal_id&&m(ba,a[0].client.legal_id),1&e[0]&&Ca.value!==a[0].client.contact&&m(Ca,a[0].client.contact),1&e[0]&&Oa.value!==a[0].client.address&&m(Oa,a[0].client.address),1&e[0]&&Ha.value!==a[0].client.cp&&m(Ha,a[0].client.cp),1&e[0]&&Ja.value!==a[0].client.city&&m(Ja,a[0].client.city),1&e[0]&&ae.value!==a[0].client.country&&m(ae,a[0].client.country),a[0].items.length>0?Te?Te.p(a,e):(Te=P(a),Te.c(),Te.m(le,oe)):Te&&(Te.d(1),Te=null),32&e[0]&&j(fe.value)!==a[5].amount&&m(fe,a[5].amount),32&e[0]&&ve.value!==a[5].label&&m(ve,a[5].label),32&e[0]&&j(me.value)!==a[5].dto&&m(me,a[5].dto),32&e[0]&&j(je.value)!==a[5].price&&m(je,a[5].price)},i:b,o:b,d(a){a&&n(e),Te&&Te.d(),Ce=!1,E(Pe)}}}function V(a,e,l){let s,t,c,i,r,n;D(a,A,(a=>l(30,r=a))),D(a,L,(a=>l(4,n=a)));let o={},u={};function f(a){o.items.splice(a,1),l(0,o)}o.number=r.length+1||1,o.date={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()},o.client={},o.items=[];return a.$$.update=()=>{1&a.$$.dirty[0]&&l(3,s=()=>o.items.reduce(((a,e)=>{const l=e.price*e.amount;if(e.dto>0){return a+(l-l*e.dto/100)}return a+l}),0)),24&a.$$.dirty[0]&&l(2,t=()=>s()*n.iva/100),24&a.$$.dirty[0]&&l(1,c=()=>{if(!n.ret)return 0;return s()*n.ret/100}),14&a.$$.dirty[0]&&l(6,i=()=>s()+t()-c())},[o,c,t,s,n,u,i,function(){4===Object.keys(u).length&&(l(0,o.items=[...o.items,u],o),l(5,u={}))},f,function(){o.items.length>0?(l(0,o._id=Date.now().toString(),o),l(0,o.totals={base:s(),iva:t(),ret:c(),total:i()},o),g(A,r=[...r,o],r),N("/facturas")):alert("⚠ No has añadido ningun concepto ⚠")},function(){o.number=j(this.value),l(0,o)},function(){o.date.day=j(this.value),l(0,o)},function(){o.date.month=j(this.value),l(0,o)},function(){o.date.year=j(this.value),l(0,o)},function(){o.client.legal_name=this.value,l(0,o)},function(){o.client.legal_id=this.value,l(0,o)},function(){o.client.contact=this.value,l(0,o)},function(){o.client.address=this.value,l(0,o)},function(){o.client.cp=this.value,l(0,o)},function(){o.client.city=this.value,l(0,o)},function(){o.client.country=this.value,l(0,o)},function(a,e){a[e].amount=j(this.value),l(0,o)},function(a,e){a[e].label=this.value,l(0,o)},function(a,e){a[e].dto=j(this.value),l(0,o)},function(a,e){a[e].price=j(this.value),l(0,o)},a=>f(a),function(){u.amount=j(this.value),l(5,u)},function(){u.label=this.value,l(5,u)},function(){u.dto=j(this.value),l(5,u)},function(){u.price=j(this.value),l(5,u)}]}class F extends a{constructor(a){super(),e(this,a,V,U,l,{},null,[-1,-1])}}export{F as default};
