import{S as a,i as e,s as l,e as t,t as s,k as c,c as i,a as n,g as o,d as r,n as d,b as u,f as v,F as f,W as p,G as h,_ as m,h as E,Z as I,Y as q,K as y,J as x,T as b,L as A,$ as N}from"../../chunks/vendor-09429b48.js";import{p as D}from"../../chunks/stores-d3394123.js";import{g as C}from"../../chunks/navigation-51f4a605.js";import{b as L,u as g}from"../../chunks/stores-347e1d5a.js";import"../../chunks/singletons-12a22614.js";function T(a,e,l){const t=a.slice();return t[33]=e[l],t[34]=e,t[35]=l,t}function P(a){let e,l,q,x,b,A,N,D,C,L,g,T,P,U,V,w,F,_,k,S,$,H,j,M,G,z,J,K,W,Y,Z,Q,X,aa,ea,la,ta,sa,ca,ia,na,oa,ra,da,ua,va,fa,pa,ha,ma,Ea,Ia,qa,ya,xa,ba,Aa,Na,Da,Ca,La,ga,Ta,Pa,Ra,Ua,Va,wa,Oa,Ba,Fa,_a,ka,Sa,$a,Ha,ja,Ma,Ga,za,Ja,Ka,Wa,Ya,Za,Qa,Xa,ae,ee,le,te,se,ce,ie,ne,oe,re,de,ue,ve,fe,pe,he,me,Ee,Ie,qe,ye,xe,be,Ae,Ne,De,Ce,Le,ge,Te,Pe,Re,Ue,Ve,we,Oe,Be,Fe,_e,ke,Se,$e,He,je,Me,Ge,ze,Je,Ke,We,Ye=a[0].number+"",Ze=a[0].date.day+"",Qe=a[0].date.month+"",Xe=a[0].date.year+"",al=a[0].items.length>0&&R(a);return{c(){e=t("section"),l=t("h1"),q=s("Factura nº "),x=s(Ye),b=c(),A=t("p"),N=s("Con fecha "),D=s(Ze),C=s("/"),L=s(Qe),g=s("/"),T=s(Xe),P=c(),U=t("div"),V=t("button"),w=s("DESCARGAR FACTURA"),F=c(),_=t("button"),k=s("GENERAR ALBARÁN"),S=c(),$=t("button"),H=s("ELIMINAR FACTURA"),j=c(),M=t("form"),G=t("div"),z=t("h2"),J=s("Datos de la factura"),K=c(),W=t("p"),Y=s("La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),Z=c(),Q=t("div"),X=t("div"),aa=t("label"),ea=s("Número"),la=c(),ta=t("input"),sa=c(),ca=t("div"),ia=t("div"),na=t("label"),oa=s("Día"),ra=c(),da=t("input"),ua=c(),va=t("div"),fa=t("label"),pa=s("Mes"),ha=c(),ma=t("input"),Ea=c(),Ia=t("div"),qa=t("label"),ya=s("Año"),xa=c(),ba=t("input"),Aa=c(),Na=t("div"),Da=t("h2"),Ca=s("Datos del cliente"),La=c(),ga=t("p"),Ta=s("Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),Pa=c(),Ra=t("div"),Ua=t("label"),Va=s("NOMBRE FISCAL"),wa=c(),Oa=t("input"),Ba=c(),Fa=t("div"),_a=t("div"),ka=t("label"),Sa=s("CIF/NIF"),$a=c(),Ha=t("input"),ja=c(),Ma=t("div"),Ga=t("label"),za=s("Conacto"),Ja=c(),Ka=t("input"),Wa=c(),Ya=t("div"),Za=t("div"),Qa=t("label"),Xa=s("DIRECCION FISCAL"),ae=c(),ee=t("input"),le=c(),te=t("div"),se=t("label"),ce=s("Código postal"),ie=c(),ne=t("input"),oe=c(),re=t("div"),de=t("div"),ue=t("label"),ve=s("POBLACIÓN"),fe=c(),pe=t("input"),he=c(),me=t("div"),Ee=t("label"),Ie=s("País"),qe=c(),ye=t("input"),xe=c(),be=t("div"),Ae=t("h2"),Ne=s("Conceptos"),De=c(),Ce=t("p"),Le=s("Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),ge=c(),al&&al.c(),Te=c(),Pe=t("div"),Re=t("input"),Ue=c(),Ve=t("input"),we=c(),Oe=t("input"),Be=c(),Fe=t("input"),_e=c(),ke=t("div"),Se=s("AÑADIR PRODUCTO/SERVICIO"),$e=c(),He=t("div"),je=t("button"),Me=s("GUARDAR CAMBIOS"),Ge=c(),ze=t("a"),Je=s("CANCELAR"),this.h()},l(a){e=i(a,"SECTION",{class:!0});var t=n(e);l=i(t,"H1",{class:!0});var s=n(l);q=o(s,"Factura nº "),x=o(s,Ye),s.forEach(r),b=d(t),A=i(t,"P",{class:!0});var c=n(A);N=o(c,"Con fecha "),D=o(c,Ze),C=o(c,"/"),L=o(c,Qe),g=o(c,"/"),T=o(c,Xe),c.forEach(r),P=d(t),U=i(t,"DIV",{class:!0});var u=n(U);V=i(u,"BUTTON",{class:!0});var v=n(V);w=o(v,"DESCARGAR FACTURA"),v.forEach(r),F=d(u),_=i(u,"BUTTON",{class:!0});var f=n(_);k=o(f,"GENERAR ALBARÁN"),f.forEach(r),S=d(u),$=i(u,"BUTTON",{class:!0});var p=n($);H=o(p,"ELIMINAR FACTURA"),p.forEach(r),u.forEach(r),t.forEach(r),j=d(a),M=i(a,"FORM",{class:!0});var h=n(M);G=i(h,"DIV",{class:!0});var m=n(G);z=i(m,"H2",{});var E=n(z);J=o(E,"Datos de la factura"),E.forEach(r),K=d(m),W=i(m,"P",{class:!0});var I=n(W);Y=o(I,"La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),I.forEach(r),Z=d(m),Q=i(m,"DIV",{class:!0});var y=n(Q);X=i(y,"DIV",{class:!0});var R=n(X);aa=i(R,"LABEL",{for:!0,class:!0});var O=n(aa);ea=o(O,"Número"),O.forEach(r),la=d(R),ta=i(R,"INPUT",{type:!0,id:!0,class:!0}),R.forEach(r),sa=d(y),ca=i(y,"DIV",{class:!0});var B=n(ca);ia=i(B,"DIV",{class:!0});var Ke=n(ia);na=i(Ke,"LABEL",{for:!0,class:!0});var We=n(na);oa=o(We,"Día"),We.forEach(r),ra=d(Ke),da=i(Ke,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),Ke.forEach(r),ua=d(B),va=i(B,"DIV",{class:!0});var el=n(va);fa=i(el,"LABEL",{for:!0,class:!0});var ll=n(fa);pa=o(ll,"Mes"),ll.forEach(r),ha=d(el),ma=i(el,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),el.forEach(r),Ea=d(B),Ia=i(B,"DIV",{class:!0});var tl=n(Ia);qa=i(tl,"LABEL",{for:!0,class:!0});var sl=n(qa);ya=o(sl,"Año"),sl.forEach(r),xa=d(tl),ba=i(tl,"INPUT",{type:!0,id:!0,class:!0}),tl.forEach(r),B.forEach(r),y.forEach(r),m.forEach(r),Aa=d(h),Na=i(h,"DIV",{class:!0});var cl=n(Na);Da=i(cl,"H2",{});var il=n(Da);Ca=o(il,"Datos del cliente"),il.forEach(r),La=d(cl),ga=i(cl,"P",{class:!0});var nl=n(ga);Ta=o(nl,"Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),nl.forEach(r),Pa=d(cl),Ra=i(cl,"DIV",{class:!0});var ol=n(Ra);Ua=i(ol,"LABEL",{for:!0,class:!0});var rl=n(Ua);Va=o(rl,"NOMBRE FISCAL"),rl.forEach(r),wa=d(ol),Oa=i(ol,"INPUT",{type:!0,id:!0,class:!0}),ol.forEach(r),Ba=d(cl),Fa=i(cl,"DIV",{class:!0});var dl=n(Fa);_a=i(dl,"DIV",{class:!0});var ul=n(_a);ka=i(ul,"LABEL",{for:!0,class:!0});var vl=n(ka);Sa=o(vl,"CIF/NIF"),vl.forEach(r),$a=d(ul),Ha=i(ul,"INPUT",{type:!0,id:!0,class:!0}),ul.forEach(r),ja=d(dl),Ma=i(dl,"DIV",{class:!0});var fl=n(Ma);Ga=i(fl,"LABEL",{for:!0,class:!0});var pl=n(Ga);za=o(pl,"Conacto"),pl.forEach(r),Ja=d(fl),Ka=i(fl,"INPUT",{type:!0,id:!0,class:!0}),fl.forEach(r),dl.forEach(r),Wa=d(cl),Ya=i(cl,"DIV",{class:!0});var hl=n(Ya);Za=i(hl,"DIV",{class:!0});var ml=n(Za);Qa=i(ml,"LABEL",{for:!0,class:!0});var El=n(Qa);Xa=o(El,"DIRECCION FISCAL"),El.forEach(r),ae=d(ml),ee=i(ml,"INPUT",{type:!0,id:!0,class:!0}),ml.forEach(r),le=d(hl),te=i(hl,"DIV",{class:!0});var Il=n(te);se=i(Il,"LABEL",{for:!0,class:!0});var ql=n(se);ce=o(ql,"Código postal"),ql.forEach(r),ie=d(Il),ne=i(Il,"INPUT",{type:!0,id:!0,class:!0}),Il.forEach(r),hl.forEach(r),oe=d(cl),re=i(cl,"DIV",{class:!0});var yl=n(re);de=i(yl,"DIV",{class:!0});var xl=n(de);ue=i(xl,"LABEL",{for:!0,class:!0});var bl=n(ue);ve=o(bl,"POBLACIÓN"),bl.forEach(r),fe=d(xl),pe=i(xl,"INPUT",{type:!0,id:!0,class:!0}),xl.forEach(r),he=d(yl),me=i(yl,"DIV",{class:!0});var Al=n(me);Ee=i(Al,"LABEL",{for:!0,class:!0});var Nl=n(Ee);Ie=o(Nl,"País"),Nl.forEach(r),qe=d(Al),ye=i(Al,"INPUT",{type:!0,id:!0,class:!0}),Al.forEach(r),yl.forEach(r),cl.forEach(r),xe=d(h),be=i(h,"DIV",{class:!0});var Dl=n(be);Ae=i(Dl,"H2",{});var Cl=n(Ae);Ne=o(Cl,"Conceptos"),Cl.forEach(r),De=d(Dl),Ce=i(Dl,"P",{class:!0});var Ll=n(Ce);Le=o(Ll,"Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),Ll.forEach(r),ge=d(Dl),al&&al.l(Dl),Te=d(Dl),Pe=i(Dl,"DIV",{class:!0});var gl=n(Pe);Re=i(gl,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),Ue=d(gl),Ve=i(gl,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),we=d(gl),Oe=i(gl,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),Be=d(gl),Fe=i(gl,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),gl.forEach(r),_e=d(Dl),ke=i(Dl,"DIV",{class:!0});var Tl=n(ke);Se=o(Tl,"AÑADIR PRODUCTO/SERVICIO"),Tl.forEach(r),Dl.forEach(r),$e=d(h),He=i(h,"DIV",{class:!0});var Pl=n(He);je=i(Pl,"BUTTON",{class:!0});var Rl=n(je);Me=o(Rl,"GUARDAR CAMBIOS"),Rl.forEach(r),Ge=d(Pl),ze=i(Pl,"A",{href:!0,class:!0});var Ul=n(ze);Je=o(Ul,"CANCELAR"),Ul.forEach(r),Pl.forEach(r),h.forEach(r),this.h()},h(){u(l,"class","svelte-onqdit"),u(A,"class","svelte-onqdit"),u(V,"class","succ semi svelte-onqdit"),u(_,"class","link semi svelte-onqdit"),u($,"class","err semi svelte-onqdit"),u(U,"class","io-wrapper row jcenter xfill svelte-onqdit"),u(e,"class","header col fcenter xfill svelte-onqdit"),u(W,"class","notice svelte-onqdit"),u(aa,"for","legal_name"),u(aa,"class","svelte-onqdit"),u(ta,"type","number"),u(ta,"id","legal_name"),u(ta,"class","xfill svelte-onqdit"),ta.required=!0,u(X,"class","input-wrapper col grow svelte-onqdit"),u(na,"for","day"),u(na,"class","svelte-onqdit"),u(da,"type","number"),u(da,"id","day"),u(da,"min","1"),u(da,"max","31"),u(da,"class","xfill svelte-onqdit"),da.required=!0,u(ia,"class","input-wrapper date col svelte-onqdit"),u(fa,"for","month"),u(fa,"class","svelte-onqdit"),u(ma,"type","number"),u(ma,"id","month"),u(ma,"min","1"),u(ma,"max","12"),u(ma,"class","xfill svelte-onqdit"),ma.required=!0,u(va,"class","input-wrapper date col svelte-onqdit"),u(qa,"for","year"),u(qa,"class","svelte-onqdit"),u(ba,"type","number"),u(ba,"id","year"),u(ba,"class","xfill svelte-onqdit"),ba.required=!0,u(Ia,"class","input-wrapper date col svelte-onqdit"),u(ca,"class","date-row row xhalf svelte-onqdit"),u(Q,"class","row xfill"),u(G,"class","box round col xfill svelte-onqdit"),u(ga,"class","notice svelte-onqdit"),u(Ua,"for","legal_name"),u(Ua,"class","svelte-onqdit"),u(Oa,"type","text"),u(Oa,"id","leagal_name"),u(Oa,"class","xfill svelte-onqdit"),Oa.required=!0,u(Ra,"class","input-wrapper col xfill svelte-onqdit"),u(ka,"for","legal_id"),u(ka,"class","svelte-onqdit"),u(Ha,"type","text"),u(Ha,"id","leagal_id"),u(Ha,"class","xfill svelte-onqdit"),Ha.required=!0,u(_a,"class","input-wrapper col xhalf svelte-onqdit"),u(Ga,"for","contact"),u(Ga,"class","svelte-onqdit"),u(Ka,"type","text"),u(Ka,"id","contact"),u(Ka,"class","xfill svelte-onqdit"),Ka.required=!0,u(Ma,"class","input-wrapper col xhalf svelte-onqdit"),u(Fa,"class","row xfill"),u(Qa,"for","address"),u(Qa,"class","svelte-onqdit"),u(ee,"type","text"),u(ee,"id","address"),u(ee,"class","xfill svelte-onqdit"),ee.required=!0,u(Za,"class","input-wrapper col xhalf svelte-onqdit"),u(se,"for","cp"),u(se,"class","svelte-onqdit"),u(ne,"type","text"),u(ne,"id","cp"),u(ne,"class","xfill svelte-onqdit"),ne.required=!0,u(te,"class","col xhalf"),u(Ya,"class","row xfill"),u(ue,"for","city"),u(ue,"class","svelte-onqdit"),u(pe,"type","text"),u(pe,"id","city"),u(pe,"class","xfill svelte-onqdit"),pe.required=!0,u(de,"class","input-wrapper col xhalf svelte-onqdit"),u(Ee,"for","country"),u(Ee,"class","svelte-onqdit"),u(ye,"type","text"),u(ye,"id","country"),u(ye,"class","xfill svelte-onqdit"),ye.required=!0,u(me,"class","input-wrapper col xhalf svelte-onqdit"),u(re,"class","row xfill"),u(Na,"class","box round col xfill svelte-onqdit"),u(Ce,"class","notice svelte-onqdit"),u(Re,"type","number"),u(Re,"id","amount"),u(Re,"min","1"),u(Re,"class","out svelte-onqdit"),u(Re,"placeholder","CANT"),u(Ve,"type","text"),u(Ve,"id","label"),u(Ve,"class","out grow svelte-onqdit"),u(Ve,"placeholder","CONCEPTO"),u(Oe,"type","number"),u(Oe,"id","dto"),u(Oe,"min","0"),u(Oe,"max","100"),u(Oe,"class","out svelte-onqdit"),u(Oe,"placeholder","DTO %"),u(Fe,"type","number"),u(Fe,"id","price"),u(Fe,"step","0.01"),u(Fe,"class","out svelte-onqdit"),u(Fe,"placeholder","UNIDAD €"),u(Pe,"class","new-line row xfill"),u(ke,"class","line-btn pri xfill svelte-onqdit"),u(be,"class","box round col xfill svelte-onqdit"),u(je,"class","succ semi svelte-onqdit"),u(ze,"href","/facturas"),u(ze,"class","btn out semi svelte-onqdit"),u(He,"class","row jcenter xfill"),u(M,"class","bill-data col acenter xfill svelte-onqdit")},m(t,s){v(t,e,s),f(e,l),f(l,q),f(l,x),f(e,b),f(e,A),f(A,N),f(A,D),f(A,C),f(A,L),f(A,g),f(A,T),f(e,P),f(e,U),f(U,V),f(V,w),f(U,F),f(U,_),f(_,k),f(U,S),f(U,$),f($,H),v(t,j,s),v(t,M,s),f(M,G),f(G,z),f(z,J),f(G,K),f(G,W),f(W,Y),f(G,Z),f(G,Q),f(Q,X),f(X,aa),f(aa,ea),f(X,la),f(X,ta),p(ta,a[0].number),f(Q,sa),f(Q,ca),f(ca,ia),f(ia,na),f(na,oa),f(ia,ra),f(ia,da),p(da,a[0].date.day),f(ca,ua),f(ca,va),f(va,fa),f(fa,pa),f(va,ha),f(va,ma),p(ma,a[0].date.month),f(ca,Ea),f(ca,Ia),f(Ia,qa),f(qa,ya),f(Ia,xa),f(Ia,ba),p(ba,a[0].date.year),f(M,Aa),f(M,Na),f(Na,Da),f(Da,Ca),f(Na,La),f(Na,ga),f(ga,Ta),f(Na,Pa),f(Na,Ra),f(Ra,Ua),f(Ua,Va),f(Ra,wa),f(Ra,Oa),p(Oa,a[0].client.legal_name),f(Na,Ba),f(Na,Fa),f(Fa,_a),f(_a,ka),f(ka,Sa),f(_a,$a),f(_a,Ha),p(Ha,a[0].client.legal_id),f(Fa,ja),f(Fa,Ma),f(Ma,Ga),f(Ga,za),f(Ma,Ja),f(Ma,Ka),p(Ka,a[0].client.contact),f(Na,Wa),f(Na,Ya),f(Ya,Za),f(Za,Qa),f(Qa,Xa),f(Za,ae),f(Za,ee),p(ee,a[0].client.address),f(Ya,le),f(Ya,te),f(te,se),f(se,ce),f(te,ie),f(te,ne),p(ne,a[0].client.cp),f(Na,oe),f(Na,re),f(re,de),f(de,ue),f(ue,ve),f(de,fe),f(de,pe),p(pe,a[0].client.city),f(re,he),f(re,me),f(me,Ee),f(Ee,Ie),f(me,qe),f(me,ye),p(ye,a[0].client.country),f(M,xe),f(M,be),f(be,Ae),f(Ae,Ne),f(be,De),f(be,Ce),f(Ce,Le),f(be,ge),al&&al.m(be,null),f(be,Te),f(be,Pe),f(Pe,Re),p(Re,a[5].amount),f(Pe,Ue),f(Pe,Ve),p(Ve,a[5].label),f(Pe,we),f(Pe,Oe),p(Oe,a[5].dto),f(Pe,Be),f(Pe,Fe),p(Fe,a[5].price),f(be,_e),f(be,ke),f(ke,Se),f(M,$e),f(M,He),f(He,je),f(je,Me),f(He,Ge),f(He,ze),f(ze,Je),Ke||(We=[h(V,"click",O),h(_,"click",B),h($,"click",a[7]),h(ta,"input",a[11]),h(da,"input",a[12]),h(ma,"input",a[13]),h(ba,"input",a[14]),h(Oa,"input",a[15]),h(Ha,"input",a[16]),h(Ka,"input",a[17]),h(ee,"input",a[18]),h(ne,"input",a[19]),h(pe,"input",a[20]),h(ye,"input",a[21]),h(Re,"input",a[27]),h(Ve,"input",a[28]),h(Oe,"input",a[29]),h(Fe,"input",a[30]),h(ke,"click",a[8]),h(M,"submit",m(a[10]))],Ke=!0)},p(a,e){1&e[0]&&Ye!==(Ye=a[0].number+"")&&E(x,Ye),1&e[0]&&Ze!==(Ze=a[0].date.day+"")&&E(D,Ze),1&e[0]&&Qe!==(Qe=a[0].date.month+"")&&E(L,Qe),1&e[0]&&Xe!==(Xe=a[0].date.year+"")&&E(T,Xe),1&e[0]&&I(ta.value)!==a[0].number&&p(ta,a[0].number),1&e[0]&&I(da.value)!==a[0].date.day&&p(da,a[0].date.day),1&e[0]&&I(ma.value)!==a[0].date.month&&p(ma,a[0].date.month),1&e[0]&&I(ba.value)!==a[0].date.year&&p(ba,a[0].date.year),1&e[0]&&Oa.value!==a[0].client.legal_name&&p(Oa,a[0].client.legal_name),1&e[0]&&Ha.value!==a[0].client.legal_id&&p(Ha,a[0].client.legal_id),1&e[0]&&Ka.value!==a[0].client.contact&&p(Ka,a[0].client.contact),1&e[0]&&ee.value!==a[0].client.address&&p(ee,a[0].client.address),1&e[0]&&ne.value!==a[0].client.cp&&p(ne,a[0].client.cp),1&e[0]&&pe.value!==a[0].client.city&&p(pe,a[0].client.city),1&e[0]&&ye.value!==a[0].client.country&&p(ye,a[0].client.country),a[0].items.length>0?al?al.p(a,e):(al=R(a),al.c(),al.m(be,Te)):al&&(al.d(1),al=null),32&e[0]&&I(Re.value)!==a[5].amount&&p(Re,a[5].amount),32&e[0]&&Ve.value!==a[5].label&&p(Ve,a[5].label),32&e[0]&&I(Oe.value)!==a[5].dto&&p(Oe,a[5].dto),32&e[0]&&I(Fe.value)!==a[5].price&&p(Fe,a[5].price)},d(a){a&&r(e),a&&r(j),a&&r(M),al&&al.d(),Ke=!1,y(We)}}}function R(a){let e,l,p,h,m,I,y,b,A,N,D,C,L,g,P,R,w,O,B,F,_,k,S,$,H,j,M,G,z,J,K,W,Y,Z=a[3]().toFixed(2)+"",Q=a[4].iva+"",X=a[2]().toFixed(2)+"",aa=a[6]().toFixed(2)+"",ea=a[0].items,la=[];for(let t=0;t<ea.length;t+=1)la[t]=U(T(a,ea,t));let ta=a[4].ret&&V(a);return{c(){e=t("ul");for(let a=0;a<la.length;a+=1)la[a].c();l=c(),p=t("h-div"),h=c(),m=t("ul"),I=t("li"),y=t("p"),b=s("Base imponible"),A=c(),N=t("h3"),D=s(Z),C=s("€"),L=c(),g=t("li"),P=t("p"),R=s("IVA "),w=s(Q),O=s("%"),B=c(),F=t("h3"),_=s(X),k=s("€"),S=c(),ta&&ta.c(),$=c(),H=t("li"),j=t("p"),M=s("Total"),G=c(),z=t("h3"),J=s(aa),K=s("€"),W=c(),Y=t("h-div"),this.h()},l(a){e=i(a,"UL",{class:!0});var t=n(e);for(let e=0;e<la.length;e+=1)la[e].l(t);t.forEach(r),l=d(a),p=i(a,"H-DIV",{class:!0}),n(p).forEach(r),h=d(a),m=i(a,"UL",{class:!0});var s=n(m);I=i(s,"LI",{class:!0});var c=n(I);y=i(c,"P",{class:!0});var u=n(y);b=o(u,"Base imponible"),u.forEach(r),A=d(c),N=i(c,"H3",{});var v=n(N);D=o(v,Z),C=o(v,"€"),v.forEach(r),c.forEach(r),L=d(s),g=i(s,"LI",{class:!0});var f=n(g);P=i(f,"P",{class:!0});var E=n(P);R=o(E,"IVA "),w=o(E,Q),O=o(E,"%"),E.forEach(r),B=d(f),F=i(f,"H3",{});var q=n(F);_=o(q,X),k=o(q,"€"),q.forEach(r),f.forEach(r),S=d(s),ta&&ta.l(s),$=d(s),H=i(s,"LI",{class:!0});var x=n(H);j=i(x,"P",{class:!0});var T=n(j);M=o(T,"Total"),T.forEach(r),G=d(x),z=i(x,"H3",{});var U=n(z);J=o(U,aa),K=o(U,"€"),U.forEach(r),x.forEach(r),s.forEach(r),W=d(a),Y=i(a,"H-DIV",{class:!0}),n(Y).forEach(r),this.h()},h(){u(e,"class","bill-items col acenter xfill"),q(p,"class","svelte-onqdit"),u(y,"class","label"),u(I,"class","col acenter svelte-onqdit"),u(P,"class","label"),u(g,"class","col acenter svelte-onqdit"),u(j,"class","label"),u(H,"class","col acenter svelte-onqdit"),u(m,"class","total-wrapper row jaround xfill svelte-onqdit"),q(Y,"class","svelte-onqdit")},m(a,t){v(a,e,t);for(let l=0;l<la.length;l+=1)la[l].m(e,null);v(a,l,t),v(a,p,t),v(a,h,t),v(a,m,t),f(m,I),f(I,y),f(y,b),f(I,A),f(I,N),f(N,D),f(N,C),f(m,L),f(m,g),f(g,P),f(P,R),f(P,w),f(P,O),f(g,B),f(g,F),f(F,_),f(F,k),f(m,S),ta&&ta.m(m,null),f(m,$),f(m,H),f(H,j),f(j,M),f(H,G),f(H,z),f(z,J),f(z,K),v(a,W,t),v(a,Y,t)},p(a,l){if(513&l[0]){let t;for(ea=a[0].items,t=0;t<ea.length;t+=1){const s=T(a,ea,t);la[t]?la[t].p(s,l):(la[t]=U(s),la[t].c(),la[t].m(e,null))}for(;t<la.length;t+=1)la[t].d(1);la.length=ea.length}8&l[0]&&Z!==(Z=a[3]().toFixed(2)+"")&&E(D,Z),16&l[0]&&Q!==(Q=a[4].iva+"")&&E(w,Q),4&l[0]&&X!==(X=a[2]().toFixed(2)+"")&&E(_,X),a[4].ret?ta?ta.p(a,l):(ta=V(a),ta.c(),ta.m(m,$)):ta&&(ta.d(1),ta=null),64&l[0]&&aa!==(aa=a[6]().toFixed(2)+"")&&E(J,aa)},d(a){a&&r(e),x(la,a),a&&r(l),a&&r(p),a&&r(h),a&&r(m),ta&&ta.d(),a&&r(W),a&&r(Y)}}}function U(a){let e,l,s,o,m,E,q,x,b,A,N,D,C;function L(){a[22].call(l,a[34],a[35])}function g(){a[23].call(o,a[34],a[35])}function T(){a[24].call(E,a[34],a[35])}function P(){a[25].call(x,a[34],a[35])}function R(){return a[26](a[35])}return{c(){e=t("li"),l=t("input"),s=c(),o=t("input"),m=c(),E=t("input"),q=c(),x=t("input"),b=c(),A=t("input"),N=c(),this.h()},l(a){e=i(a,"LI",{class:!0});var t=n(e);l=i(t,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),s=d(t),o=i(t,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),m=d(t),E=i(t,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),q=d(t),x=i(t,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),b=d(t),A=i(t,"INPUT",{type:!0,class:!0}),N=d(t),t.forEach(r),this.h()},h(){u(l,"type","number"),u(l,"id","amount"),u(l,"min","1"),u(l,"class","out svelte-onqdit"),u(l,"placeholder","CANT"),u(o,"type","text"),u(o,"id","label"),u(o,"class","out grow svelte-onqdit"),u(o,"placeholder","CONCEPTO"),u(E,"type","number"),u(E,"id","dto"),u(E,"min","0"),u(E,"max","100"),u(E,"class","out svelte-onqdit"),u(E,"placeholder","DTO %"),u(x,"type","number"),u(x,"id","price"),u(x,"step","0.01"),u(x,"class","out svelte-onqdit"),u(x,"placeholder","UNIDAD €"),u(A,"type","text"),A.value="x",u(A,"class","out svelte-onqdit"),u(e,"class","line row xfill svelte-onqdit")},m(t,c){v(t,e,c),f(e,l),p(l,a[33].amount),f(e,s),f(e,o),p(o,a[33].label),f(e,m),f(e,E),p(E,a[33].dto),f(e,q),f(e,x),p(x,a[33].price),f(e,b),f(e,A),f(e,N),D||(C=[h(l,"input",L),h(o,"input",g),h(E,"input",T),h(x,"input",P),h(A,"click",R)],D=!0)},p(e,t){a=e,1&t[0]&&I(l.value)!==a[33].amount&&p(l,a[33].amount),1&t[0]&&o.value!==a[33].label&&p(o,a[33].label),1&t[0]&&I(E.value)!==a[33].dto&&p(E,a[33].dto),1&t[0]&&I(x.value)!==a[33].price&&p(x,a[33].price)},d(a){a&&r(e),D=!1,y(C)}}}function V(a){let e,l,p,h,m,I,q,y,x,b,A=a[4].ret+"",N=a[1]().toFixed(2)+"";return{c(){e=t("li"),l=t("p"),p=s("IRPF "),h=s(A),m=s("%"),I=c(),q=t("h3"),y=s("-"),x=s(N),b=s("€"),this.h()},l(a){e=i(a,"LI",{class:!0});var t=n(e);l=i(t,"P",{class:!0});var s=n(l);p=o(s,"IRPF "),h=o(s,A),m=o(s,"%"),s.forEach(r),I=d(t),q=i(t,"H3",{});var c=n(q);y=o(c,"-"),x=o(c,N),b=o(c,"€"),c.forEach(r),t.forEach(r),this.h()},h(){u(l,"class","label"),u(e,"class","col acenter svelte-onqdit")},m(a,t){v(a,e,t),f(e,l),f(l,p),f(l,h),f(l,m),f(e,I),f(e,q),f(q,y),f(q,x),f(q,b)},p(a,e){16&e[0]&&A!==(A=a[4].ret+"")&&E(h,A),2&e[0]&&N!==(N=a[1]().toFixed(2)+"")&&E(x,N)},d(a){a&&r(e)}}}function w(a){let e,l=a[0]&&P(a);return{c(){e=t("div"),l&&l.c(),this.h()},l(a){e=i(a,"DIV",{class:!0});var t=n(e);l&&l.l(t),t.forEach(r),this.h()},h(){u(e,"class","scroll")},m(a,t){v(a,e,t),l&&l.m(e,null)},p(a,t){a[0]?l?l.p(a,t):(l=P(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:b,o:b,d(a){a&&r(e),l&&l.d()}}}async function O(){console.log("Downloading...")}function B(){console.log("Generating...")}function F(a,e,l){let t,s,c,i,n,o,r;A(a,L,(a=>l(31,n=a))),A(a,g,(a=>l(4,o=a))),A(a,D,(a=>l(32,r=a)));let d=n.filter((a=>a._id===r.params.id))[0],u={};function v(a){d.items.splice(a,1),l(0,d)}return a.$$.update=()=>{1&a.$$.dirty[0]&&l(3,t=()=>d.items.reduce(((a,e)=>{const l=e.price*e.amount;if(e.dto>0){return a+(l-l*e.dto/100)}return a+l}),0)),24&a.$$.dirty[0]&&l(2,s=()=>t()*o.iva/100),24&a.$$.dirty[0]&&l(1,c=()=>{if(!o.ret)return 0;return t()*o.ret/100}),14&a.$$.dirty[0]&&l(6,i=()=>t()+s()-c())},[d,c,s,t,o,u,i,function(){confirm("La numeracion de las otras facturas no se modificara. Recuerda usar la numeracion de esta factura en otra.\n\n¿Borrar definitivamente?")&&(n.splice(n.indexOf(d),1),L.set(n),C("/facturas"))},function(){4===Object.keys(u).length&&(l(0,d.items=[...d.items,u],d),l(5,u={}))},v,function(){d.items.length>0?(l(0,d.totals={base:t(),iva:s(),ret:c(),total:i()},d),N(L,n=n.map((a=>a._id===d._id?d:a)),n),C("/facturas")):alert("⚠ No has añadido ningun concepto ⚠")},function(){d.number=I(this.value),l(0,d)},function(){d.date.day=I(this.value),l(0,d)},function(){d.date.month=I(this.value),l(0,d)},function(){d.date.year=I(this.value),l(0,d)},function(){d.client.legal_name=this.value,l(0,d)},function(){d.client.legal_id=this.value,l(0,d)},function(){d.client.contact=this.value,l(0,d)},function(){d.client.address=this.value,l(0,d)},function(){d.client.cp=this.value,l(0,d)},function(){d.client.city=this.value,l(0,d)},function(){d.client.country=this.value,l(0,d)},function(a,e){a[e].amount=I(this.value),l(0,d)},function(a,e){a[e].label=this.value,l(0,d)},function(a,e){a[e].dto=I(this.value),l(0,d)},function(a,e){a[e].price=I(this.value),l(0,d)},a=>v(a),function(){u.amount=I(this.value),l(5,u)},function(){u.label=this.value,l(5,u)},function(){u.dto=I(this.value),l(5,u)},function(){u.price=I(this.value),l(5,u)}]}class _ extends a{constructor(a){super(),e(this,a,F,w,l,{},null,[-1,-1])}}export{_ as default};
