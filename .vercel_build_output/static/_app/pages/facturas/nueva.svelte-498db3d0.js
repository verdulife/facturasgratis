import{S as a,i as e,s as l,e as t,k as s,t as c,c as i,a as r,d as n,n as o,g as u,b as d,Y as v,f as p,F as f,V as h,J as x,Z as b,X as m,h as E,I,_ as y,R as D,K as g,$ as N}from"../../chunks/vendor-0999ec80.js";import{g as A}from"../../chunks/navigation-51f4a605.js";import{b as L,u as C}from"../../chunks/stores-5ee9f122.js";import"../../chunks/singletons-12a22614.js";function P(a,e,l){const t=a.slice();return t[32]=e[l],t[33]=e,t[34]=l,t}function T(a){let e,l,h,x,b,m,y,D,g,N,A,L,C,T,U,F,R,O,B,_,q,$,H,k,S,j,M,z,G,Y,J,K,X,Z=a[3]().toFixed(2)+"",Q=a[4].iva+"",W=a[2]().toFixed(2)+"",aa=a[6]().toFixed(2)+"",ea=a[0].items,la=[];for(let t=0;t<ea.length;t+=1)la[t]=V(P(a,ea,t));let ta=a[4].ret&&w(a);return{c(){e=t("ul");for(let a=0;a<la.length;a+=1)la[a].c();l=s(),h=t("h-div"),x=s(),b=t("ul"),m=t("li"),y=t("p"),D=c("Base imponible"),g=s(),N=t("h3"),A=c(Z),L=c("€"),C=s(),T=t("li"),U=t("p"),F=c("IVA "),R=c(Q),O=c("%"),B=s(),_=t("h3"),q=c(W),$=c("€"),H=s(),ta&&ta.c(),k=s(),S=t("li"),j=t("p"),M=c("Total"),z=s(),G=t("h3"),Y=c(aa),J=c("€"),K=s(),X=t("h-div"),this.h()},l(a){e=i(a,"UL",{class:!0});var t=r(e);for(let e=0;e<la.length;e+=1)la[e].l(t);t.forEach(n),l=o(a),h=i(a,"H-DIV",{class:!0}),r(h).forEach(n),x=o(a),b=i(a,"UL",{class:!0});var s=r(b);m=i(s,"LI",{class:!0});var c=r(m);y=i(c,"P",{class:!0});var d=r(y);D=u(d,"Base imponible"),d.forEach(n),g=o(c),N=i(c,"H3",{});var v=r(N);A=u(v,Z),L=u(v,"€"),v.forEach(n),c.forEach(n),C=o(s),T=i(s,"LI",{class:!0});var p=r(T);U=i(p,"P",{class:!0});var f=r(U);F=u(f,"IVA "),R=u(f,Q),O=u(f,"%"),f.forEach(n),B=o(p),_=i(p,"H3",{});var E=r(_);q=u(E,W),$=u(E,"€"),E.forEach(n),p.forEach(n),H=o(s),ta&&ta.l(s),k=o(s),S=i(s,"LI",{class:!0});var I=r(S);j=i(I,"P",{class:!0});var P=r(j);M=u(P,"Total"),P.forEach(n),z=o(I),G=i(I,"H3",{});var V=r(G);Y=u(V,aa),J=u(V,"€"),V.forEach(n),I.forEach(n),s.forEach(n),K=o(a),X=i(a,"H-DIV",{class:!0}),r(X).forEach(n),this.h()},h(){d(e,"class","bill-items col acenter xfill"),v(h,"class","svelte-689xub"),d(y,"class","label"),d(m,"class","col acenter svelte-689xub"),d(U,"class","label"),d(T,"class","col acenter svelte-689xub"),d(j,"class","label"),d(S,"class","col acenter svelte-689xub"),d(b,"class","total-wrapper row jaround xfill svelte-689xub"),v(X,"class","svelte-689xub")},m(a,t){p(a,e,t);for(let l=0;l<la.length;l+=1)la[l].m(e,null);p(a,l,t),p(a,h,t),p(a,x,t),p(a,b,t),f(b,m),f(m,y),f(y,D),f(m,g),f(m,N),f(N,A),f(N,L),f(b,C),f(b,T),f(T,U),f(U,F),f(U,R),f(U,O),f(T,B),f(T,_),f(_,q),f(_,$),f(b,H),ta&&ta.m(b,null),f(b,k),f(b,S),f(S,j),f(j,M),f(S,z),f(S,G),f(G,Y),f(G,J),p(a,K,t),p(a,X,t)},p(a,l){if(257&l[0]){let t;for(ea=a[0].items,t=0;t<ea.length;t+=1){const s=P(a,ea,t);la[t]?la[t].p(s,l):(la[t]=V(s),la[t].c(),la[t].m(e,null))}for(;t<la.length;t+=1)la[t].d(1);la.length=ea.length}8&l[0]&&Z!==(Z=a[3]().toFixed(2)+"")&&E(A,Z),16&l[0]&&Q!==(Q=a[4].iva+"")&&E(R,Q),4&l[0]&&W!==(W=a[2]().toFixed(2)+"")&&E(q,W),a[4].ret?ta?ta.p(a,l):(ta=w(a),ta.c(),ta.m(b,k)):ta&&(ta.d(1),ta=null),64&l[0]&&aa!==(aa=a[6]().toFixed(2)+"")&&E(Y,aa)},d(a){a&&n(e),I(la,a),a&&n(l),a&&n(h),a&&n(x),a&&n(b),ta&&ta.d(),a&&n(K),a&&n(X)}}}function V(a){let e,l,c,u,v,E,I,y,D,g,N,A,L;function C(){a[21].call(l,a[33],a[34])}function P(){a[22].call(u,a[33],a[34])}function T(){a[23].call(E,a[33],a[34])}function V(){a[24].call(y,a[33],a[34])}function w(){return a[25](a[34])}return{c(){e=t("li"),l=t("input"),c=s(),u=t("input"),v=s(),E=t("input"),I=s(),y=t("input"),D=s(),g=t("input"),N=s(),this.h()},l(a){e=i(a,"LI",{class:!0});var t=r(e);l=i(t,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),c=o(t),u=i(t,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),v=o(t),E=i(t,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),I=o(t),y=i(t,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),D=o(t),g=i(t,"INPUT",{type:!0,class:!0}),N=o(t),t.forEach(n),this.h()},h(){d(l,"type","number"),d(l,"id","amount"),d(l,"min","1"),d(l,"class","out svelte-689xub"),d(l,"placeholder","CANT"),d(u,"type","text"),d(u,"id","label"),d(u,"class","out grow svelte-689xub"),d(u,"placeholder","CONCEPTO"),d(E,"type","number"),d(E,"id","dto"),d(E,"min","0"),d(E,"max","100"),d(E,"class","out svelte-689xub"),d(E,"placeholder","DTO %"),d(y,"type","number"),d(y,"id","price"),d(y,"step","0.01"),d(y,"class","out svelte-689xub"),d(y,"placeholder","UNIDAD €"),d(g,"type","text"),g.value="x",d(g,"class","out svelte-689xub"),d(e,"class","line row xfill svelte-689xub")},m(t,s){p(t,e,s),f(e,l),h(l,a[32].amount),f(e,c),f(e,u),h(u,a[32].label),f(e,v),f(e,E),h(E,a[32].dto),f(e,I),f(e,y),h(y,a[32].price),f(e,D),f(e,g),f(e,N),A||(L=[x(l,"input",C),x(u,"input",P),x(E,"input",T),x(y,"input",V),x(g,"click",w)],A=!0)},p(e,t){a=e,1&t[0]&&b(l.value)!==a[32].amount&&h(l,a[32].amount),1&t[0]&&u.value!==a[32].label&&h(u,a[32].label),1&t[0]&&b(E.value)!==a[32].dto&&h(E,a[32].dto),1&t[0]&&b(y.value)!==a[32].price&&h(y,a[32].price)},d(a){a&&n(e),A=!1,m(L)}}}function w(a){let e,l,v,h,x,b,m,I,y,D,g=a[4].ret+"",N=a[1]().toFixed(2)+"";return{c(){e=t("li"),l=t("p"),v=c("IRPF "),h=c(g),x=c("%"),b=s(),m=t("h3"),I=c("-"),y=c(N),D=c("€"),this.h()},l(a){e=i(a,"LI",{class:!0});var t=r(e);l=i(t,"P",{class:!0});var s=r(l);v=u(s,"IRPF "),h=u(s,g),x=u(s,"%"),s.forEach(n),b=o(t),m=i(t,"H3",{});var c=r(m);I=u(c,"-"),y=u(c,N),D=u(c,"€"),c.forEach(n),t.forEach(n),this.h()},h(){d(l,"class","label"),d(e,"class","col acenter svelte-689xub")},m(a,t){p(a,e,t),f(e,l),f(l,v),f(l,h),f(l,x),f(e,b),f(e,m),f(m,I),f(m,y),f(m,D)},p(a,e){16&e[0]&&g!==(g=a[4].ret+"")&&E(h,g),2&e[0]&&N!==(N=a[1]().toFixed(2)+"")&&E(y,N)},d(a){a&&n(e)}}}function U(a){let e,l,v,E,I,g,N,A,L,C,P,V,w,U,F,R,O,B,_,q,$,H,k,S,j,M,z,G,Y,J,K,X,Z,Q,W,aa,ea,la,ta,sa,ca,ia,ra,na,oa,ua,da,va,pa,fa,ha,xa,ba,ma,Ea,Ia,ya,Da,ga,Na,Aa,La,Ca,Pa,Ta,Va,wa,Ua,Fa,Ra,Oa,Ba,_a,qa,$a,Ha,ka,Sa,ja,Ma,za,Ga,Ya,Ja,Ka,Xa,Za,Qa,Wa,ae,ee,le,te,se,ce,ie,re,ne,oe,ue,de,ve,pe,fe,he,xe,be,me,Ee,Ie,ye,De,ge,Ne,Ae,Le=a[0].items.length>0&&T(a);return{c(){e=t("div"),l=t("form"),v=t("div"),E=t("h2"),I=c("Datos de la factura"),g=s(),N=t("p"),A=c("La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),L=s(),C=t("div"),P=t("div"),V=t("label"),w=c("Número"),U=s(),F=t("input"),R=s(),O=t("div"),B=t("div"),_=t("label"),q=c("Día"),$=s(),H=t("input"),k=s(),S=t("div"),j=t("label"),M=c("Mes"),z=s(),G=t("input"),Y=s(),J=t("div"),K=t("label"),X=c("Año"),Z=s(),Q=t("input"),W=s(),aa=t("div"),ea=t("h2"),la=c("Datos del cliente"),ta=s(),sa=t("p"),ca=c("Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),ia=s(),ra=t("div"),na=t("label"),oa=c("NOMBRE FISCAL"),ua=s(),da=t("input"),va=s(),pa=t("div"),fa=t("div"),ha=t("label"),xa=c("CIF/NIF"),ba=s(),ma=t("input"),Ea=s(),Ia=t("div"),ya=t("label"),Da=c("Conacto"),ga=s(),Na=t("input"),Aa=s(),La=t("div"),Ca=t("div"),Pa=t("label"),Ta=c("DIRECCION FISCAL"),Va=s(),wa=t("input"),Ua=s(),Fa=t("div"),Ra=t("label"),Oa=c("Código postal"),Ba=s(),_a=t("input"),qa=s(),$a=t("div"),Ha=t("div"),ka=t("label"),Sa=c("POBLACIÓN"),ja=s(),Ma=t("input"),za=s(),Ga=t("div"),Ya=t("label"),Ja=c("País"),Ka=s(),Xa=t("input"),Za=s(),Qa=t("div"),Wa=t("h2"),ae=c("Conceptos"),ee=s(),le=t("p"),te=c("Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),se=s(),Le&&Le.c(),ce=s(),ie=t("div"),re=t("input"),ne=s(),oe=t("input"),ue=s(),de=t("input"),ve=s(),pe=t("input"),fe=s(),he=t("div"),xe=c("AÑADIR PRODUCTO/SERVICIO"),be=s(),me=t("div"),Ee=t("button"),Ie=c("GENERAR FACTURA"),ye=s(),De=t("a"),ge=c("CANCELAR"),this.h()},l(a){e=i(a,"DIV",{class:!0});var t=r(e);l=i(t,"FORM",{class:!0});var s=r(l);v=i(s,"DIV",{class:!0});var c=r(v);E=i(c,"H2",{});var d=r(E);I=u(d,"Datos de la factura"),d.forEach(n),g=o(c),N=i(c,"P",{class:!0});var p=r(N);A=u(p,"La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),p.forEach(n),L=o(c),C=i(c,"DIV",{class:!0});var f=r(C);P=i(f,"DIV",{class:!0});var h=r(P);V=i(h,"LABEL",{for:!0,class:!0});var x=r(V);w=u(x,"Número"),x.forEach(n),U=o(h),F=i(h,"INPUT",{type:!0,id:!0,class:!0}),h.forEach(n),R=o(f),O=i(f,"DIV",{class:!0});var b=r(O);B=i(b,"DIV",{class:!0});var m=r(B);_=i(m,"LABEL",{for:!0,class:!0});var y=r(_);q=u(y,"Día"),y.forEach(n),$=o(m),H=i(m,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),m.forEach(n),k=o(b),S=i(b,"DIV",{class:!0});var D=r(S);j=i(D,"LABEL",{for:!0,class:!0});var T=r(j);M=u(T,"Mes"),T.forEach(n),z=o(D),G=i(D,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),D.forEach(n),Y=o(b),J=i(b,"DIV",{class:!0});var Ne=r(J);K=i(Ne,"LABEL",{for:!0,class:!0});var Ae=r(K);X=u(Ae,"Año"),Ae.forEach(n),Z=o(Ne),Q=i(Ne,"INPUT",{type:!0,id:!0,class:!0}),Ne.forEach(n),b.forEach(n),f.forEach(n),c.forEach(n),W=o(s),aa=i(s,"DIV",{class:!0});var Ce=r(aa);ea=i(Ce,"H2",{});var Pe=r(ea);la=u(Pe,"Datos del cliente"),Pe.forEach(n),ta=o(Ce),sa=i(Ce,"P",{class:!0});var Te=r(sa);ca=u(Te,"Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),Te.forEach(n),ia=o(Ce),ra=i(Ce,"DIV",{class:!0});var Ve=r(ra);na=i(Ve,"LABEL",{for:!0,class:!0});var we=r(na);oa=u(we,"NOMBRE FISCAL"),we.forEach(n),ua=o(Ve),da=i(Ve,"INPUT",{type:!0,id:!0,class:!0}),Ve.forEach(n),va=o(Ce),pa=i(Ce,"DIV",{class:!0});var Ue=r(pa);fa=i(Ue,"DIV",{class:!0});var Fe=r(fa);ha=i(Fe,"LABEL",{for:!0,class:!0});var Re=r(ha);xa=u(Re,"CIF/NIF"),Re.forEach(n),ba=o(Fe),ma=i(Fe,"INPUT",{type:!0,id:!0,class:!0}),Fe.forEach(n),Ea=o(Ue),Ia=i(Ue,"DIV",{class:!0});var Oe=r(Ia);ya=i(Oe,"LABEL",{for:!0,class:!0});var Be=r(ya);Da=u(Be,"Conacto"),Be.forEach(n),ga=o(Oe),Na=i(Oe,"INPUT",{type:!0,id:!0,class:!0}),Oe.forEach(n),Ue.forEach(n),Aa=o(Ce),La=i(Ce,"DIV",{class:!0});var _e=r(La);Ca=i(_e,"DIV",{class:!0});var qe=r(Ca);Pa=i(qe,"LABEL",{for:!0,class:!0});var $e=r(Pa);Ta=u($e,"DIRECCION FISCAL"),$e.forEach(n),Va=o(qe),wa=i(qe,"INPUT",{type:!0,id:!0,class:!0}),qe.forEach(n),Ua=o(_e),Fa=i(_e,"DIV",{class:!0});var He=r(Fa);Ra=i(He,"LABEL",{for:!0,class:!0});var ke=r(Ra);Oa=u(ke,"Código postal"),ke.forEach(n),Ba=o(He),_a=i(He,"INPUT",{type:!0,id:!0,class:!0}),He.forEach(n),_e.forEach(n),qa=o(Ce),$a=i(Ce,"DIV",{class:!0});var Se=r($a);Ha=i(Se,"DIV",{class:!0});var je=r(Ha);ka=i(je,"LABEL",{for:!0,class:!0});var Me=r(ka);Sa=u(Me,"POBLACIÓN"),Me.forEach(n),ja=o(je),Ma=i(je,"INPUT",{type:!0,id:!0,class:!0}),je.forEach(n),za=o(Se),Ga=i(Se,"DIV",{class:!0});var ze=r(Ga);Ya=i(ze,"LABEL",{for:!0,class:!0});var Ge=r(Ya);Ja=u(Ge,"País"),Ge.forEach(n),Ka=o(ze),Xa=i(ze,"INPUT",{type:!0,id:!0,class:!0}),ze.forEach(n),Se.forEach(n),Ce.forEach(n),Za=o(s),Qa=i(s,"DIV",{class:!0});var Ye=r(Qa);Wa=i(Ye,"H2",{});var Je=r(Wa);ae=u(Je,"Conceptos"),Je.forEach(n),ee=o(Ye),le=i(Ye,"P",{class:!0});var Ke=r(le);te=u(Ke,"Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),Ke.forEach(n),se=o(Ye),Le&&Le.l(Ye),ce=o(Ye),ie=i(Ye,"DIV",{class:!0});var Xe=r(ie);re=i(Xe,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),ne=o(Xe),oe=i(Xe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),ue=o(Xe),de=i(Xe,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),ve=o(Xe),pe=i(Xe,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),Xe.forEach(n),fe=o(Ye),he=i(Ye,"DIV",{class:!0});var Ze=r(he);xe=u(Ze,"AÑADIR PRODUCTO/SERVICIO"),Ze.forEach(n),Ye.forEach(n),be=o(s),me=i(s,"DIV",{class:!0});var Qe=r(me);Ee=i(Qe,"BUTTON",{class:!0});var We=r(Ee);Ie=u(We,"GENERAR FACTURA"),We.forEach(n),ye=o(Qe),De=i(Qe,"A",{href:!0,class:!0});var al=r(De);ge=u(al,"CANCELAR"),al.forEach(n),Qe.forEach(n),s.forEach(n),t.forEach(n),this.h()},h(){d(N,"class","notice svelte-689xub"),d(V,"for","legal_name"),d(V,"class","svelte-689xub"),d(F,"type","number"),d(F,"id","legal_name"),d(F,"class","xfill svelte-689xub"),F.required=!0,d(P,"class","input-wrapper col grow svelte-689xub"),d(_,"for","day"),d(_,"class","svelte-689xub"),d(H,"type","number"),d(H,"id","day"),d(H,"min","1"),d(H,"max","31"),d(H,"class","xfill svelte-689xub"),H.required=!0,d(B,"class","input-wrapper date col svelte-689xub"),d(j,"for","month"),d(j,"class","svelte-689xub"),d(G,"type","number"),d(G,"id","month"),d(G,"min","1"),d(G,"max","12"),d(G,"class","xfill svelte-689xub"),G.required=!0,d(S,"class","input-wrapper date col svelte-689xub"),d(K,"for","year"),d(K,"class","svelte-689xub"),d(Q,"type","number"),d(Q,"id","year"),d(Q,"class","xfill svelte-689xub"),Q.required=!0,d(J,"class","input-wrapper date col svelte-689xub"),d(O,"class","date-row row xhalf svelte-689xub"),d(C,"class","row xfill"),d(v,"class","box round col xfill svelte-689xub"),d(sa,"class","notice svelte-689xub"),d(na,"for","legal_name"),d(na,"class","svelte-689xub"),d(da,"type","text"),d(da,"id","leagal_name"),d(da,"class","xfill svelte-689xub"),da.required=!0,d(ra,"class","input-wrapper col xfill svelte-689xub"),d(ha,"for","legal_id"),d(ha,"class","svelte-689xub"),d(ma,"type","text"),d(ma,"id","leagal_id"),d(ma,"class","xfill svelte-689xub"),ma.required=!0,d(fa,"class","input-wrapper col xhalf svelte-689xub"),d(ya,"for","contact"),d(ya,"class","svelte-689xub"),d(Na,"type","text"),d(Na,"id","contact"),d(Na,"class","xfill svelte-689xub"),Na.required=!0,d(Ia,"class","input-wrapper col xhalf svelte-689xub"),d(pa,"class","row xfill"),d(Pa,"for","address"),d(Pa,"class","svelte-689xub"),d(wa,"type","text"),d(wa,"id","address"),d(wa,"class","xfill svelte-689xub"),wa.required=!0,d(Ca,"class","input-wrapper col xhalf svelte-689xub"),d(Ra,"for","cp"),d(Ra,"class","svelte-689xub"),d(_a,"type","text"),d(_a,"id","cp"),d(_a,"class","xfill svelte-689xub"),_a.required=!0,d(Fa,"class","col xhalf"),d(La,"class","row xfill"),d(ka,"for","city"),d(ka,"class","svelte-689xub"),d(Ma,"type","text"),d(Ma,"id","city"),d(Ma,"class","xfill svelte-689xub"),Ma.required=!0,d(Ha,"class","input-wrapper col xhalf svelte-689xub"),d(Ya,"for","country"),d(Ya,"class","svelte-689xub"),d(Xa,"type","text"),d(Xa,"id","country"),d(Xa,"class","xfill svelte-689xub"),Xa.required=!0,d(Ga,"class","input-wrapper col xhalf svelte-689xub"),d($a,"class","row xfill"),d(aa,"class","box round col xfill svelte-689xub"),d(le,"class","notice svelte-689xub"),d(re,"type","number"),d(re,"id","amount"),d(re,"min","1"),d(re,"class","out svelte-689xub"),d(re,"placeholder","CANT"),d(oe,"type","text"),d(oe,"id","label"),d(oe,"class","out grow svelte-689xub"),d(oe,"placeholder","CONCEPTO"),d(de,"type","number"),d(de,"id","dto"),d(de,"min","0"),d(de,"max","100"),d(de,"class","out svelte-689xub"),d(de,"placeholder","DTO %"),d(pe,"type","number"),d(pe,"id","price"),d(pe,"step","0.01"),d(pe,"class","out svelte-689xub"),d(pe,"placeholder","UNIDAD €"),d(ie,"class","new-line row xfill"),d(he,"class","line-btn pri xfill svelte-689xub"),d(Qa,"class","box round col xfill svelte-689xub"),d(Ee,"class","succ semi svelte-689xub"),d(De,"href","/facturas"),d(De,"class","btn out semi svelte-689xub"),d(me,"class","row jcenter xfill"),d(l,"class","bill-data col acenter xfill svelte-689xub"),d(e,"class","scroll")},m(t,s){p(t,e,s),f(e,l),f(l,v),f(v,E),f(E,I),f(v,g),f(v,N),f(N,A),f(v,L),f(v,C),f(C,P),f(P,V),f(V,w),f(P,U),f(P,F),h(F,a[0].number),f(C,R),f(C,O),f(O,B),f(B,_),f(_,q),f(B,$),f(B,H),h(H,a[0].date.day),f(O,k),f(O,S),f(S,j),f(j,M),f(S,z),f(S,G),h(G,a[0].date.month),f(O,Y),f(O,J),f(J,K),f(K,X),f(J,Z),f(J,Q),h(Q,a[0].date.year),f(l,W),f(l,aa),f(aa,ea),f(ea,la),f(aa,ta),f(aa,sa),f(sa,ca),f(aa,ia),f(aa,ra),f(ra,na),f(na,oa),f(ra,ua),f(ra,da),h(da,a[0].client.legal_name),f(aa,va),f(aa,pa),f(pa,fa),f(fa,ha),f(ha,xa),f(fa,ba),f(fa,ma),h(ma,a[0].client.legal_id),f(pa,Ea),f(pa,Ia),f(Ia,ya),f(ya,Da),f(Ia,ga),f(Ia,Na),h(Na,a[0].client.contact),f(aa,Aa),f(aa,La),f(La,Ca),f(Ca,Pa),f(Pa,Ta),f(Ca,Va),f(Ca,wa),h(wa,a[0].client.address),f(La,Ua),f(La,Fa),f(Fa,Ra),f(Ra,Oa),f(Fa,Ba),f(Fa,_a),h(_a,a[0].client.cp),f(aa,qa),f(aa,$a),f($a,Ha),f(Ha,ka),f(ka,Sa),f(Ha,ja),f(Ha,Ma),h(Ma,a[0].client.city),f($a,za),f($a,Ga),f(Ga,Ya),f(Ya,Ja),f(Ga,Ka),f(Ga,Xa),h(Xa,a[0].client.country),f(l,Za),f(l,Qa),f(Qa,Wa),f(Wa,ae),f(Qa,ee),f(Qa,le),f(le,te),f(Qa,se),Le&&Le.m(Qa,null),f(Qa,ce),f(Qa,ie),f(ie,re),h(re,a[5].amount),f(ie,ne),f(ie,oe),h(oe,a[5].label),f(ie,ue),f(ie,de),h(de,a[5].dto),f(ie,ve),f(ie,pe),h(pe,a[5].price),f(Qa,fe),f(Qa,he),f(he,xe),f(l,be),f(l,me),f(me,Ee),f(Ee,Ie),f(me,ye),f(me,De),f(De,ge),Ne||(Ae=[x(F,"input",a[10]),x(H,"input",a[11]),x(G,"input",a[12]),x(Q,"input",a[13]),x(da,"input",a[14]),x(ma,"input",a[15]),x(Na,"input",a[16]),x(wa,"input",a[17]),x(_a,"input",a[18]),x(Ma,"input",a[19]),x(Xa,"input",a[20]),x(re,"input",a[26]),x(oe,"input",a[27]),x(de,"input",a[28]),x(pe,"input",a[29]),x(he,"click",a[7]),x(l,"submit",y(a[9]))],Ne=!0)},p(a,e){1&e[0]&&b(F.value)!==a[0].number&&h(F,a[0].number),1&e[0]&&b(H.value)!==a[0].date.day&&h(H,a[0].date.day),1&e[0]&&b(G.value)!==a[0].date.month&&h(G,a[0].date.month),1&e[0]&&b(Q.value)!==a[0].date.year&&h(Q,a[0].date.year),1&e[0]&&da.value!==a[0].client.legal_name&&h(da,a[0].client.legal_name),1&e[0]&&ma.value!==a[0].client.legal_id&&h(ma,a[0].client.legal_id),1&e[0]&&Na.value!==a[0].client.contact&&h(Na,a[0].client.contact),1&e[0]&&wa.value!==a[0].client.address&&h(wa,a[0].client.address),1&e[0]&&_a.value!==a[0].client.cp&&h(_a,a[0].client.cp),1&e[0]&&Ma.value!==a[0].client.city&&h(Ma,a[0].client.city),1&e[0]&&Xa.value!==a[0].client.country&&h(Xa,a[0].client.country),a[0].items.length>0?Le?Le.p(a,e):(Le=T(a),Le.c(),Le.m(Qa,ce)):Le&&(Le.d(1),Le=null),32&e[0]&&b(re.value)!==a[5].amount&&h(re,a[5].amount),32&e[0]&&oe.value!==a[5].label&&h(oe,a[5].label),32&e[0]&&b(de.value)!==a[5].dto&&h(de,a[5].dto),32&e[0]&&b(pe.value)!==a[5].price&&h(pe,a[5].price)},i:D,o:D,d(a){a&&n(e),Le&&Le.d(),Ne=!1,m(Ae)}}}function F(a,e,l){let t,s,c,i,r,n;g(a,L,(a=>l(30,r=a))),g(a,C,(a=>l(4,n=a)));let o={},u={};function d(a){o.items.splice(a,1),l(0,o)}o.number=r.length+1||1,o.date={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()},o.client={},o.items=[];return a.$$.update=()=>{1&a.$$.dirty[0]&&l(3,t=()=>o.items.reduce(((a,e)=>{const l=e.price*e.amount;if(e.dto>0){return a+(l-l*e.dto/100)}return a+l}),0)),24&a.$$.dirty[0]&&l(2,s=()=>t()*n.iva/100),24&a.$$.dirty[0]&&l(1,c=()=>{if(!n.ret)return 0;return t()*n.ret/100}),14&a.$$.dirty[0]&&l(6,i=()=>t()+s()-c())},[o,c,s,t,n,u,i,function(){4===Object.keys(u).length&&(l(0,o.items=[...o.items,u],o),l(5,u={}))},d,function(){o.items.length>0?(l(0,o._id=Date.now().toString(),o),l(0,o.totals={base:t(),iva:s(),ret:c(),total:i()},o),N(L,r=[...r,o],r),A("/facturas")):alert("⚠ No has añadido ningun concepto ⚠")},function(){o.number=b(this.value),l(0,o)},function(){o.date.day=b(this.value),l(0,o)},function(){o.date.month=b(this.value),l(0,o)},function(){o.date.year=b(this.value),l(0,o)},function(){o.client.legal_name=this.value,l(0,o)},function(){o.client.legal_id=this.value,l(0,o)},function(){o.client.contact=this.value,l(0,o)},function(){o.client.address=this.value,l(0,o)},function(){o.client.cp=this.value,l(0,o)},function(){o.client.city=this.value,l(0,o)},function(){o.client.country=this.value,l(0,o)},function(a,e){a[e].amount=b(this.value),l(0,o)},function(a,e){a[e].label=this.value,l(0,o)},function(a,e){a[e].dto=b(this.value),l(0,o)},function(a,e){a[e].price=b(this.value),l(0,o)},a=>d(a),function(){u.amount=b(this.value),l(5,u)},function(){u.label=this.value,l(5,u)},function(){u.dto=b(this.value),l(5,u)},function(){u.price=b(this.value),l(5,u)}]}class R extends a{constructor(a){super(),e(this,a,F,U,l,{},null,[-1,-1])}}export{R as default};
