import{S as a,i as e,s as l,e as s,t,k as c,c as i,a as r,g as n,d as o,n as u,b as d,f as v,F as p,V as f,J as h,_ as x,Z as m,Y as b,X as E,h as I,I as y,R as D,K as g,$ as A}from"../../chunks/vendor-0999ec80.js";import{p as N}from"../../chunks/stores-36eb6521.js";import{g as L}from"../../chunks/navigation-51f4a605.js";import{b as C,u as P}from"../../chunks/stores-5e37f18a.js";import"../../chunks/singletons-12a22614.js";function T(a,e,l){const s=a.slice();return s[32]=e[l],s[33]=e,s[34]=l,s}function V(a){let e,l,b,I,y,D,g,A,N,L,C,P,T,V,w,O,B,F,R,_,q,$,k,H,S,j,M,z,G,J,K,X,Y,Z,Q,W,aa,ea,la,sa,ta,ca,ia,ra,na,oa,ua,da,va,pa,fa,ha,xa,ma,ba,Ea,Ia,ya,Da,ga,Aa,Na,La,Ca,Pa,Ta,Va,Ua,wa,Oa,Ba,Fa,Ra,_a,qa,$a,ka,Ha,Sa,ja,Ma,za,Ga,Ja,Ka,Xa,Ya,Za,Qa,Wa,ae,ee,le,se,te,ce,ie,re,ne,oe,ue,de,ve,pe,fe,he,xe,me,be,Ee,Ie,ye,De,ge,Ae=a[0].items.length>0&&U(a);return{c(){e=s("form"),l=s("div"),b=s("h2"),I=t("Datos de la factura"),y=c(),D=s("p"),g=t("La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),A=c(),N=s("div"),L=s("div"),C=s("label"),P=t("Número"),T=c(),V=s("input"),w=c(),O=s("div"),B=s("div"),F=s("label"),R=t("Día"),_=c(),q=s("input"),$=c(),k=s("div"),H=s("label"),S=t("Mes"),j=c(),M=s("input"),z=c(),G=s("div"),J=s("label"),K=t("Año"),X=c(),Y=s("input"),Z=c(),Q=s("div"),W=s("h2"),aa=t("Datos del cliente"),ea=c(),la=s("p"),sa=t("Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),ta=c(),ca=s("div"),ia=s("label"),ra=t("NOMBRE FISCAL"),na=c(),oa=s("input"),ua=c(),da=s("div"),va=s("div"),pa=s("label"),fa=t("CIF/NIF"),ha=c(),xa=s("input"),ma=c(),ba=s("div"),Ea=s("label"),Ia=t("Conacto"),ya=c(),Da=s("input"),ga=c(),Aa=s("div"),Na=s("div"),La=s("label"),Ca=t("DIRECCION FISCAL"),Pa=c(),Ta=s("input"),Va=c(),Ua=s("div"),wa=s("label"),Oa=t("Código postal"),Ba=c(),Fa=s("input"),Ra=c(),_a=s("div"),qa=s("div"),$a=s("label"),ka=t("POBLACIÓN"),Ha=c(),Sa=s("input"),ja=c(),Ma=s("div"),za=s("label"),Ga=t("País"),Ja=c(),Ka=s("input"),Xa=c(),Ya=s("div"),Za=s("h2"),Qa=t("Conceptos"),Wa=c(),ae=s("p"),ee=t("Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),le=c(),Ae&&Ae.c(),se=c(),te=s("div"),ce=s("input"),ie=c(),re=s("input"),ne=c(),oe=s("input"),ue=c(),de=s("input"),ve=c(),pe=s("div"),fe=t("AÑADIR PRODUCTO/SERVICIO"),he=c(),xe=s("div"),me=s("button"),be=t("GUARDAR CAMBIOS"),Ee=c(),Ie=s("a"),ye=t("CANCELAR"),this.h()},l(a){e=i(a,"FORM",{class:!0});var s=r(e);l=i(s,"DIV",{class:!0});var t=r(l);b=i(t,"H2",{});var c=r(b);I=n(c,"Datos de la factura"),c.forEach(o),y=u(t),D=i(t,"P",{class:!0});var d=r(D);g=n(d,"La numeración y fecha de la factura se rellenan automatiamente, pero puedes modificarlas."),d.forEach(o),A=u(t),N=i(t,"DIV",{class:!0});var v=r(N);L=i(v,"DIV",{class:!0});var p=r(L);C=i(p,"LABEL",{for:!0,class:!0});var f=r(C);P=n(f,"Número"),f.forEach(o),T=u(p),V=i(p,"INPUT",{type:!0,id:!0,class:!0}),p.forEach(o),w=u(v),O=i(v,"DIV",{class:!0});var h=r(O);B=i(h,"DIV",{class:!0});var x=r(B);F=i(x,"LABEL",{for:!0,class:!0});var m=r(F);R=n(m,"Día"),m.forEach(o),_=u(x),q=i(x,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),x.forEach(o),$=u(h),k=i(h,"DIV",{class:!0});var E=r(k);H=i(E,"LABEL",{for:!0,class:!0});var U=r(H);S=n(U,"Mes"),U.forEach(o),j=u(E),M=i(E,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),E.forEach(o),z=u(h),G=i(h,"DIV",{class:!0});var De=r(G);J=i(De,"LABEL",{for:!0,class:!0});var ge=r(J);K=n(ge,"Año"),ge.forEach(o),X=u(De),Y=i(De,"INPUT",{type:!0,id:!0,class:!0}),De.forEach(o),h.forEach(o),v.forEach(o),t.forEach(o),Z=u(s),Q=i(s,"DIV",{class:!0});var Ne=r(Q);W=i(Ne,"H2",{});var Le=r(W);aa=n(Le,"Datos del cliente"),Le.forEach(o),ea=u(Ne),la=i(Ne,"P",{class:!0});var Ce=r(la);sa=n(Ce,"Cada vez que añadas un cliente nuevo, este se guardara automatiamente."),Ce.forEach(o),ta=u(Ne),ca=i(Ne,"DIV",{class:!0});var Pe=r(ca);ia=i(Pe,"LABEL",{for:!0,class:!0});var Te=r(ia);ra=n(Te,"NOMBRE FISCAL"),Te.forEach(o),na=u(Pe),oa=i(Pe,"INPUT",{type:!0,id:!0,class:!0}),Pe.forEach(o),ua=u(Ne),da=i(Ne,"DIV",{class:!0});var Ve=r(da);va=i(Ve,"DIV",{class:!0});var Ue=r(va);pa=i(Ue,"LABEL",{for:!0,class:!0});var we=r(pa);fa=n(we,"CIF/NIF"),we.forEach(o),ha=u(Ue),xa=i(Ue,"INPUT",{type:!0,id:!0,class:!0}),Ue.forEach(o),ma=u(Ve),ba=i(Ve,"DIV",{class:!0});var Oe=r(ba);Ea=i(Oe,"LABEL",{for:!0,class:!0});var Be=r(Ea);Ia=n(Be,"Conacto"),Be.forEach(o),ya=u(Oe),Da=i(Oe,"INPUT",{type:!0,id:!0,class:!0}),Oe.forEach(o),Ve.forEach(o),ga=u(Ne),Aa=i(Ne,"DIV",{class:!0});var Fe=r(Aa);Na=i(Fe,"DIV",{class:!0});var Re=r(Na);La=i(Re,"LABEL",{for:!0,class:!0});var _e=r(La);Ca=n(_e,"DIRECCION FISCAL"),_e.forEach(o),Pa=u(Re),Ta=i(Re,"INPUT",{type:!0,id:!0,class:!0}),Re.forEach(o),Va=u(Fe),Ua=i(Fe,"DIV",{class:!0});var qe=r(Ua);wa=i(qe,"LABEL",{for:!0,class:!0});var $e=r(wa);Oa=n($e,"Código postal"),$e.forEach(o),Ba=u(qe),Fa=i(qe,"INPUT",{type:!0,id:!0,class:!0}),qe.forEach(o),Fe.forEach(o),Ra=u(Ne),_a=i(Ne,"DIV",{class:!0});var ke=r(_a);qa=i(ke,"DIV",{class:!0});var He=r(qa);$a=i(He,"LABEL",{for:!0,class:!0});var Se=r($a);ka=n(Se,"POBLACIÓN"),Se.forEach(o),Ha=u(He),Sa=i(He,"INPUT",{type:!0,id:!0,class:!0}),He.forEach(o),ja=u(ke),Ma=i(ke,"DIV",{class:!0});var je=r(Ma);za=i(je,"LABEL",{for:!0,class:!0});var Me=r(za);Ga=n(Me,"País"),Me.forEach(o),Ja=u(je),Ka=i(je,"INPUT",{type:!0,id:!0,class:!0}),je.forEach(o),ke.forEach(o),Ne.forEach(o),Xa=u(s),Ya=i(s,"DIV",{class:!0});var ze=r(Ya);Za=i(ze,"H2",{});var Ge=r(Za);Qa=n(Ge,"Conceptos"),Ge.forEach(o),Wa=u(ze),ae=i(ze,"P",{class:!0});var Je=r(ae);ee=n(Je,"Cada vez que añadas un producto/servicio nuevo, este se guardara automatiamente."),Je.forEach(o),le=u(ze),Ae&&Ae.l(ze),se=u(ze),te=i(ze,"DIV",{class:!0});var Ke=r(te);ce=i(Ke,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),ie=u(Ke),re=i(Ke,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),ne=u(Ke),oe=i(Ke,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),ue=u(Ke),de=i(Ke,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),Ke.forEach(o),ve=u(ze),pe=i(ze,"DIV",{class:!0});var Xe=r(pe);fe=n(Xe,"AÑADIR PRODUCTO/SERVICIO"),Xe.forEach(o),ze.forEach(o),he=u(s),xe=i(s,"DIV",{class:!0});var Ye=r(xe);me=i(Ye,"BUTTON",{class:!0});var Ze=r(me);be=n(Ze,"GUARDAR CAMBIOS"),Ze.forEach(o),Ee=u(Ye),Ie=i(Ye,"A",{href:!0,class:!0});var Qe=r(Ie);ye=n(Qe,"CANCELAR"),Qe.forEach(o),Ye.forEach(o),s.forEach(o),this.h()},h(){d(D,"class","notice svelte-689xub"),d(C,"for","legal_name"),d(C,"class","svelte-689xub"),d(V,"type","number"),d(V,"id","legal_name"),d(V,"class","xfill svelte-689xub"),V.required=!0,d(L,"class","input-wrapper col grow svelte-689xub"),d(F,"for","day"),d(F,"class","svelte-689xub"),d(q,"type","number"),d(q,"id","day"),d(q,"min","1"),d(q,"max","31"),d(q,"class","xfill svelte-689xub"),q.required=!0,d(B,"class","input-wrapper date col svelte-689xub"),d(H,"for","month"),d(H,"class","svelte-689xub"),d(M,"type","number"),d(M,"id","month"),d(M,"min","1"),d(M,"max","12"),d(M,"class","xfill svelte-689xub"),M.required=!0,d(k,"class","input-wrapper date col svelte-689xub"),d(J,"for","year"),d(J,"class","svelte-689xub"),d(Y,"type","number"),d(Y,"id","year"),d(Y,"class","xfill svelte-689xub"),Y.required=!0,d(G,"class","input-wrapper date col svelte-689xub"),d(O,"class","date-row row xhalf svelte-689xub"),d(N,"class","row xfill"),d(l,"class","box round col xfill svelte-689xub"),d(la,"class","notice svelte-689xub"),d(ia,"for","legal_name"),d(ia,"class","svelte-689xub"),d(oa,"type","text"),d(oa,"id","leagal_name"),d(oa,"class","xfill svelte-689xub"),oa.required=!0,d(ca,"class","input-wrapper col xfill svelte-689xub"),d(pa,"for","legal_id"),d(pa,"class","svelte-689xub"),d(xa,"type","text"),d(xa,"id","leagal_id"),d(xa,"class","xfill svelte-689xub"),xa.required=!0,d(va,"class","input-wrapper col xhalf svelte-689xub"),d(Ea,"for","contact"),d(Ea,"class","svelte-689xub"),d(Da,"type","text"),d(Da,"id","contact"),d(Da,"class","xfill svelte-689xub"),Da.required=!0,d(ba,"class","input-wrapper col xhalf svelte-689xub"),d(da,"class","row xfill"),d(La,"for","address"),d(La,"class","svelte-689xub"),d(Ta,"type","text"),d(Ta,"id","address"),d(Ta,"class","xfill svelte-689xub"),Ta.required=!0,d(Na,"class","input-wrapper col xhalf svelte-689xub"),d(wa,"for","cp"),d(wa,"class","svelte-689xub"),d(Fa,"type","text"),d(Fa,"id","cp"),d(Fa,"class","xfill svelte-689xub"),Fa.required=!0,d(Ua,"class","col xhalf"),d(Aa,"class","row xfill"),d($a,"for","city"),d($a,"class","svelte-689xub"),d(Sa,"type","text"),d(Sa,"id","city"),d(Sa,"class","xfill svelte-689xub"),Sa.required=!0,d(qa,"class","input-wrapper col xhalf svelte-689xub"),d(za,"for","country"),d(za,"class","svelte-689xub"),d(Ka,"type","text"),d(Ka,"id","country"),d(Ka,"class","xfill svelte-689xub"),Ka.required=!0,d(Ma,"class","input-wrapper col xhalf svelte-689xub"),d(_a,"class","row xfill"),d(Q,"class","box round col xfill svelte-689xub"),d(ae,"class","notice svelte-689xub"),d(ce,"type","number"),d(ce,"id","amount"),d(ce,"min","1"),d(ce,"class","out svelte-689xub"),d(ce,"placeholder","CANT"),d(re,"type","text"),d(re,"id","label"),d(re,"class","out grow svelte-689xub"),d(re,"placeholder","CONCEPTO"),d(oe,"type","number"),d(oe,"id","dto"),d(oe,"min","0"),d(oe,"max","100"),d(oe,"class","out svelte-689xub"),d(oe,"placeholder","DTO %"),d(de,"type","number"),d(de,"id","price"),d(de,"step","0.01"),d(de,"class","out svelte-689xub"),d(de,"placeholder","UNIDAD €"),d(te,"class","new-line row xfill"),d(pe,"class","line-btn pri xfill svelte-689xub"),d(Ya,"class","box round col xfill svelte-689xub"),d(me,"class","succ semi svelte-689xub"),d(Ie,"href","/facturas"),d(Ie,"class","btn out semi svelte-689xub"),d(xe,"class","row jcenter xfill"),d(e,"class","bill-data col acenter xfill svelte-689xub")},m(s,t){v(s,e,t),p(e,l),p(l,b),p(b,I),p(l,y),p(l,D),p(D,g),p(l,A),p(l,N),p(N,L),p(L,C),p(C,P),p(L,T),p(L,V),f(V,a[0].number),p(N,w),p(N,O),p(O,B),p(B,F),p(F,R),p(B,_),p(B,q),f(q,a[0].date.day),p(O,$),p(O,k),p(k,H),p(H,S),p(k,j),p(k,M),f(M,a[0].date.month),p(O,z),p(O,G),p(G,J),p(J,K),p(G,X),p(G,Y),f(Y,a[0].date.year),p(e,Z),p(e,Q),p(Q,W),p(W,aa),p(Q,ea),p(Q,la),p(la,sa),p(Q,ta),p(Q,ca),p(ca,ia),p(ia,ra),p(ca,na),p(ca,oa),f(oa,a[0].client.legal_name),p(Q,ua),p(Q,da),p(da,va),p(va,pa),p(pa,fa),p(va,ha),p(va,xa),f(xa,a[0].client.legal_id),p(da,ma),p(da,ba),p(ba,Ea),p(Ea,Ia),p(ba,ya),p(ba,Da),f(Da,a[0].client.contact),p(Q,ga),p(Q,Aa),p(Aa,Na),p(Na,La),p(La,Ca),p(Na,Pa),p(Na,Ta),f(Ta,a[0].client.address),p(Aa,Va),p(Aa,Ua),p(Ua,wa),p(wa,Oa),p(Ua,Ba),p(Ua,Fa),f(Fa,a[0].client.cp),p(Q,Ra),p(Q,_a),p(_a,qa),p(qa,$a),p($a,ka),p(qa,Ha),p(qa,Sa),f(Sa,a[0].client.city),p(_a,ja),p(_a,Ma),p(Ma,za),p(za,Ga),p(Ma,Ja),p(Ma,Ka),f(Ka,a[0].client.country),p(e,Xa),p(e,Ya),p(Ya,Za),p(Za,Qa),p(Ya,Wa),p(Ya,ae),p(ae,ee),p(Ya,le),Ae&&Ae.m(Ya,null),p(Ya,se),p(Ya,te),p(te,ce),f(ce,a[5].amount),p(te,ie),p(te,re),f(re,a[5].label),p(te,ne),p(te,oe),f(oe,a[5].dto),p(te,ue),p(te,de),f(de,a[5].price),p(Ya,ve),p(Ya,pe),p(pe,fe),p(e,he),p(e,xe),p(xe,me),p(me,be),p(xe,Ee),p(xe,Ie),p(Ie,ye),De||(ge=[h(V,"input",a[10]),h(q,"input",a[11]),h(M,"input",a[12]),h(Y,"input",a[13]),h(oa,"input",a[14]),h(xa,"input",a[15]),h(Da,"input",a[16]),h(Ta,"input",a[17]),h(Fa,"input",a[18]),h(Sa,"input",a[19]),h(Ka,"input",a[20]),h(ce,"input",a[26]),h(re,"input",a[27]),h(oe,"input",a[28]),h(de,"input",a[29]),h(pe,"click",a[7]),h(e,"submit",x(a[9]))],De=!0)},p(a,e){1&e[0]&&m(V.value)!==a[0].number&&f(V,a[0].number),1&e[0]&&m(q.value)!==a[0].date.day&&f(q,a[0].date.day),1&e[0]&&m(M.value)!==a[0].date.month&&f(M,a[0].date.month),1&e[0]&&m(Y.value)!==a[0].date.year&&f(Y,a[0].date.year),1&e[0]&&oa.value!==a[0].client.legal_name&&f(oa,a[0].client.legal_name),1&e[0]&&xa.value!==a[0].client.legal_id&&f(xa,a[0].client.legal_id),1&e[0]&&Da.value!==a[0].client.contact&&f(Da,a[0].client.contact),1&e[0]&&Ta.value!==a[0].client.address&&f(Ta,a[0].client.address),1&e[0]&&Fa.value!==a[0].client.cp&&f(Fa,a[0].client.cp),1&e[0]&&Sa.value!==a[0].client.city&&f(Sa,a[0].client.city),1&e[0]&&Ka.value!==a[0].client.country&&f(Ka,a[0].client.country),a[0].items.length>0?Ae?Ae.p(a,e):(Ae=U(a),Ae.c(),Ae.m(Ya,se)):Ae&&(Ae.d(1),Ae=null),32&e[0]&&m(ce.value)!==a[5].amount&&f(ce,a[5].amount),32&e[0]&&re.value!==a[5].label&&f(re,a[5].label),32&e[0]&&m(oe.value)!==a[5].dto&&f(oe,a[5].dto),32&e[0]&&m(de.value)!==a[5].price&&f(de,a[5].price)},d(a){a&&o(e),Ae&&Ae.d(),De=!1,E(ge)}}}function U(a){let e,l,f,h,x,m,E,D,g,A,N,L,C,P,V,U,B,F,R,_,q,$,k,H,S,j,M,z,G,J,K,X,Y,Z=a[3]().toFixed(2)+"",Q=a[4].iva+"",W=a[2]().toFixed(2)+"",aa=a[6]().toFixed(2)+"",ea=a[0].items,la=[];for(let s=0;s<ea.length;s+=1)la[s]=w(T(a,ea,s));let sa=a[4].ret&&O(a);return{c(){e=s("ul");for(let a=0;a<la.length;a+=1)la[a].c();l=c(),f=s("h-div"),h=c(),x=s("ul"),m=s("li"),E=s("p"),D=t("Base imponible"),g=c(),A=s("h3"),N=t(Z),L=t("€"),C=c(),P=s("li"),V=s("p"),U=t("IVA "),B=t(Q),F=t("%"),R=c(),_=s("h3"),q=t(W),$=t("€"),k=c(),sa&&sa.c(),H=c(),S=s("li"),j=s("p"),M=t("Total"),z=c(),G=s("h3"),J=t(aa),K=t("€"),X=c(),Y=s("h-div"),this.h()},l(a){e=i(a,"UL",{class:!0});var s=r(e);for(let e=0;e<la.length;e+=1)la[e].l(s);s.forEach(o),l=u(a),f=i(a,"H-DIV",{class:!0}),r(f).forEach(o),h=u(a),x=i(a,"UL",{class:!0});var t=r(x);m=i(t,"LI",{class:!0});var c=r(m);E=i(c,"P",{class:!0});var d=r(E);D=n(d,"Base imponible"),d.forEach(o),g=u(c),A=i(c,"H3",{});var v=r(A);N=n(v,Z),L=n(v,"€"),v.forEach(o),c.forEach(o),C=u(t),P=i(t,"LI",{class:!0});var p=r(P);V=i(p,"P",{class:!0});var b=r(V);U=n(b,"IVA "),B=n(b,Q),F=n(b,"%"),b.forEach(o),R=u(p),_=i(p,"H3",{});var I=r(_);q=n(I,W),$=n(I,"€"),I.forEach(o),p.forEach(o),k=u(t),sa&&sa.l(t),H=u(t),S=i(t,"LI",{class:!0});var y=r(S);j=i(y,"P",{class:!0});var T=r(j);M=n(T,"Total"),T.forEach(o),z=u(y),G=i(y,"H3",{});var w=r(G);J=n(w,aa),K=n(w,"€"),w.forEach(o),y.forEach(o),t.forEach(o),X=u(a),Y=i(a,"H-DIV",{class:!0}),r(Y).forEach(o),this.h()},h(){d(e,"class","bill-items col acenter xfill"),b(f,"class","svelte-689xub"),d(E,"class","label"),d(m,"class","col acenter svelte-689xub"),d(V,"class","label"),d(P,"class","col acenter svelte-689xub"),d(j,"class","label"),d(S,"class","col acenter svelte-689xub"),d(x,"class","total-wrapper row jaround xfill svelte-689xub"),b(Y,"class","svelte-689xub")},m(a,s){v(a,e,s);for(let l=0;l<la.length;l+=1)la[l].m(e,null);v(a,l,s),v(a,f,s),v(a,h,s),v(a,x,s),p(x,m),p(m,E),p(E,D),p(m,g),p(m,A),p(A,N),p(A,L),p(x,C),p(x,P),p(P,V),p(V,U),p(V,B),p(V,F),p(P,R),p(P,_),p(_,q),p(_,$),p(x,k),sa&&sa.m(x,null),p(x,H),p(x,S),p(S,j),p(j,M),p(S,z),p(S,G),p(G,J),p(G,K),v(a,X,s),v(a,Y,s)},p(a,l){if(257&l[0]){let s;for(ea=a[0].items,s=0;s<ea.length;s+=1){const t=T(a,ea,s);la[s]?la[s].p(t,l):(la[s]=w(t),la[s].c(),la[s].m(e,null))}for(;s<la.length;s+=1)la[s].d(1);la.length=ea.length}8&l[0]&&Z!==(Z=a[3]().toFixed(2)+"")&&I(N,Z),16&l[0]&&Q!==(Q=a[4].iva+"")&&I(B,Q),4&l[0]&&W!==(W=a[2]().toFixed(2)+"")&&I(q,W),a[4].ret?sa?sa.p(a,l):(sa=O(a),sa.c(),sa.m(x,H)):sa&&(sa.d(1),sa=null),64&l[0]&&aa!==(aa=a[6]().toFixed(2)+"")&&I(J,aa)},d(a){a&&o(e),y(la,a),a&&o(l),a&&o(f),a&&o(h),a&&o(x),sa&&sa.d(),a&&o(X),a&&o(Y)}}}function w(a){let e,l,t,n,x,b,I,y,D,g,A,N,L;function C(){a[21].call(l,a[33],a[34])}function P(){a[22].call(n,a[33],a[34])}function T(){a[23].call(b,a[33],a[34])}function V(){a[24].call(y,a[33],a[34])}function U(){return a[25](a[34])}return{c(){e=s("li"),l=s("input"),t=c(),n=s("input"),x=c(),b=s("input"),I=c(),y=s("input"),D=c(),g=s("input"),A=c(),this.h()},l(a){e=i(a,"LI",{class:!0});var s=r(e);l=i(s,"INPUT",{type:!0,id:!0,min:!0,class:!0,placeholder:!0}),t=u(s),n=i(s,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),x=u(s),b=i(s,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),I=u(s),y=i(s,"INPUT",{type:!0,id:!0,step:!0,class:!0,placeholder:!0}),D=u(s),g=i(s,"INPUT",{type:!0,class:!0}),A=u(s),s.forEach(o),this.h()},h(){d(l,"type","number"),d(l,"id","amount"),d(l,"min","1"),d(l,"class","out svelte-689xub"),d(l,"placeholder","CANT"),d(n,"type","text"),d(n,"id","label"),d(n,"class","out grow svelte-689xub"),d(n,"placeholder","CONCEPTO"),d(b,"type","number"),d(b,"id","dto"),d(b,"min","0"),d(b,"max","100"),d(b,"class","out svelte-689xub"),d(b,"placeholder","DTO %"),d(y,"type","number"),d(y,"id","price"),d(y,"step","0.01"),d(y,"class","out svelte-689xub"),d(y,"placeholder","UNIDAD €"),d(g,"type","text"),g.value="x",d(g,"class","out svelte-689xub"),d(e,"class","line row xfill svelte-689xub")},m(s,c){v(s,e,c),p(e,l),f(l,a[32].amount),p(e,t),p(e,n),f(n,a[32].label),p(e,x),p(e,b),f(b,a[32].dto),p(e,I),p(e,y),f(y,a[32].price),p(e,D),p(e,g),p(e,A),N||(L=[h(l,"input",C),h(n,"input",P),h(b,"input",T),h(y,"input",V),h(g,"click",U)],N=!0)},p(e,s){a=e,1&s[0]&&m(l.value)!==a[32].amount&&f(l,a[32].amount),1&s[0]&&n.value!==a[32].label&&f(n,a[32].label),1&s[0]&&m(b.value)!==a[32].dto&&f(b,a[32].dto),1&s[0]&&m(y.value)!==a[32].price&&f(y,a[32].price)},d(a){a&&o(e),N=!1,E(L)}}}function O(a){let e,l,f,h,x,m,b,E,y,D,g=a[4].ret+"",A=a[1]().toFixed(2)+"";return{c(){e=s("li"),l=s("p"),f=t("IRPF "),h=t(g),x=t("%"),m=c(),b=s("h3"),E=t("-"),y=t(A),D=t("€"),this.h()},l(a){e=i(a,"LI",{class:!0});var s=r(e);l=i(s,"P",{class:!0});var t=r(l);f=n(t,"IRPF "),h=n(t,g),x=n(t,"%"),t.forEach(o),m=u(s),b=i(s,"H3",{});var c=r(b);E=n(c,"-"),y=n(c,A),D=n(c,"€"),c.forEach(o),s.forEach(o),this.h()},h(){d(l,"class","label"),d(e,"class","col acenter svelte-689xub")},m(a,s){v(a,e,s),p(e,l),p(l,f),p(l,h),p(l,x),p(e,m),p(e,b),p(b,E),p(b,y),p(b,D)},p(a,e){16&e[0]&&g!==(g=a[4].ret+"")&&I(h,g),2&e[0]&&A!==(A=a[1]().toFixed(2)+"")&&I(y,A)},d(a){a&&o(e)}}}function B(a){let e,l=a[0]&&V(a);return{c(){e=s("div"),l&&l.c(),this.h()},l(a){e=i(a,"DIV",{class:!0});var s=r(e);l&&l.l(s),s.forEach(o),this.h()},h(){d(e,"class","scroll")},m(a,s){v(a,e,s),l&&l.m(e,null)},p(a,s){a[0]?l?l.p(a,s):(l=V(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:D,o:D,d(a){a&&o(e),l&&l.d()}}}function F(a,e,l){let s,t,c,i,r,n,o;g(a,C,(a=>l(30,r=a))),g(a,P,(a=>l(4,n=a))),g(a,N,(a=>l(31,o=a)));let u=r.filter((a=>a._id===o.params.id))[0],d={};function v(a){u.items.splice(a,1),l(0,u)}return a.$$.update=()=>{1&a.$$.dirty[0]&&l(3,s=()=>u.items.reduce(((a,e)=>{const l=e.price*e.amount;if(e.dto>0){return a+(l-l*e.dto/100)}return a+l}),0)),24&a.$$.dirty[0]&&l(2,t=()=>s()*n.iva/100),24&a.$$.dirty[0]&&l(1,c=()=>{if(!n.ret)return 0;return s()*n.ret/100}),14&a.$$.dirty[0]&&l(6,i=()=>s()+t()-c())},[u,c,t,s,n,d,i,function(){4===Object.keys(d).length&&(l(0,u.items=[...u.items,d],u),l(5,d={}))},v,function(){u.items.length>0?(l(0,u.totals={base:s(),iva:t(),ret:c(),total:i()},u),A(C,r=r.map((a=>a._id===u._id?u:a)),r),L("/facturas")):alert("⚠ No has añadido ningun concepto ⚠")},function(){u.number=m(this.value),l(0,u)},function(){u.date.day=m(this.value),l(0,u)},function(){u.date.month=m(this.value),l(0,u)},function(){u.date.year=m(this.value),l(0,u)},function(){u.client.legal_name=this.value,l(0,u)},function(){u.client.legal_id=this.value,l(0,u)},function(){u.client.contact=this.value,l(0,u)},function(){u.client.address=this.value,l(0,u)},function(){u.client.cp=this.value,l(0,u)},function(){u.client.city=this.value,l(0,u)},function(){u.client.country=this.value,l(0,u)},function(a,e){a[e].amount=m(this.value),l(0,u)},function(a,e){a[e].label=this.value,l(0,u)},function(a,e){a[e].dto=m(this.value),l(0,u)},function(a,e){a[e].price=m(this.value),l(0,u)},a=>v(a),function(){d.amount=m(this.value),l(5,d)},function(){d.label=this.value,l(5,d)},function(){d.dto=m(this.value),l(5,d)},function(){d.price=m(this.value),l(5,d)}]}class R extends a{constructor(a){super(),e(this,a,F,B,l,{},null,[-1,-1])}}export{R as default};
